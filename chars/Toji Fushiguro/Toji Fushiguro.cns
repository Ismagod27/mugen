; Constants and state file.
; There are comments scattered through this file, so you may like to
; take a look if would like to learn more about the cns.

[Data]
life = 1000
power = 3000
attack = 100
defence = 100
fall.defence_up = 50
liedown.time = 30
airjuggle = 15
sparkno = -1
guard.sparkno = -1
KO.echo = 0
volume = 0
IntPersistIndex = 60
FloatPersistIndex = 40

[Size]
xscale = .95
yscale = .95
ground.back = 10
ground.front = 10
air.back = 10
air.front = 10
height = 40
attack.dist = 160
proj.attack.dist = 90
proj.doscale = 0
head.pos = -5, -50
mid.pos = -5, -25
shadowoffset = 0
draw.offset = 0,0

[Velocity]
walk.fwd  = 1.5
walk.back = -1.5
run.fwd  = 7
run.back = 0,0
jump.neu = 0,-8.5
jump.back = -4
jump.fwd = 4
runjump.back = 0
runjump.fwd = 0
airjump.neu = 0
airjump.back = 0
airjump.fwd = 0

[Movement]
airjump.num = 0
airjump.height = 35
yaccel = .44
stand.friction = .85
crouch.friction = .82

[quotes]
victory0="I donâ€™t know what happened, but my body is special"
victory1="Who do you think you are to give orders as you please?"
victory2="Time to wrap things up now. Alright, good show"

;---------------------------------------------------------------------------
; Format:
; [Statedef STATENO]
; type = ?      S/C/A/L  stand/crouch/air/liedown
; movetype = ?  I/A/H    idle/attack/gethit
; physics = ?   S/C/A/N  stand/crouch/air/none
; juggle = ?             air juggle points move requires
;
; [State STATENO, ?]     ? - any number you choose
; type = ?
; ...

;---------------------------------------------------------------------------
; Lose by Time Over
; CNS difficulty: basic
[Statedef 170]
type = S
ctrl = 0
anim = 170
velset = 0,0

[State 170, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

;---------------------------------------------------------------------------
; Win state decider
; CNS difficulty: basic
[Statedef 180]
type = S
ctrl = 0
anim = 180
velset = 0,0

[State 0, ChangeState]
type = ChangeState
trigger1 = time = 0&& random > 500 
value = 182
[State 0, ChangeState]
type = ChangeState
trigger1 = time = 0 && random < 500 
value = 181

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S500,18
volumescale = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S500,18
volumescale = 999

[State 181, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = time <350
flag = roundnotover

;---------------------------------------------------------------------------
[Statedef 181]
type = S
ctrl = 0
anim = 181
velset = 0,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S500,17
volumescale = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S500,17
volumescale = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S500,17
volumescale = 999
'
[State 181, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = time <250
flag = roundnotover
;---------------------------------------------------------------------------
[Statedef 182]
type = S
ctrl = 0
anim = 182
velset = 0,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S500,23
volumescale = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S500,23
volumescale = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S500,23
volumescale = 999

[State 181, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = time <200
flag = roundnotover
;---------------------------------------------------------------------------
; Introduction
; CNS difficulty: basic
[Statedef 190]
type = S
ctrl = 0
anim = 190
velset = 0,0

[State 190, 4] ;Change to stand state
type = ChangeState
trigger1 = Time = 0 && random = [0,200]
value = 194
ctrl = 0

[State 190, 4] ;C  hange to stand state
type = ChangeState
trigger1 = Time = 0 && random = [200,400]
value = 191
ctrl = 0

[State 190, 4] ;Change to stand state
type = ChangeState
trigger1 = Time = 0 && random = [400,600]
value = 192
ctrl = 0

[State 190, 2] ;Assert this until you want "round 1, fight" to begin
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 38
value = S200,1
volumescale = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 38
value = S200,16

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 20
value = S500,19
volumescale = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 82
value = S500,21
volumescale = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 186
value = S500,22
volumescale = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 200
value = S500,20
volumescale = 999

[State 0, Explod]
type = Explod
trigger1 = animelem = 38
anim = 6151
ID = 6151
angle = -90
vel = 0,0
pos = 0,-25
postype = p1  ;p2,front,back,left,right
scale = .25,.25
sprpriority = 10

[State 0, Explod]
type = Explod
trigger1 = animelem = 38
anim = 6200
ID = 6200
pos = 0,0
postype = p1  ;p2,front,back,left,right
scale = .5,.5
sprpriority = 0

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 38
time = 10
freq = 60
ampl = -4
phase = 90

[State 190, 4] ;Change to stand state
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 0
;---------------------------------------------------------------------------
; Introduction 2
; CNS difficulty: basic
[Statedef 191]
type = S
ctrl = 0
anim = 191
velset = 0,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S500,13
volumescale = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S500,13
volumescale = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S500,13
volumescale = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 60
value = S20,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 75
value = S200,30

[State 190, 2] ;Assert this until you want "round 1, fight" to begin
type = AssertSpecial
trigger1 = 1
flag = Intro


[State 190, 4] ;Change to stand state
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 0

;---------------------------------------------------------------------------
; Introduction 3
; CNS difficulty: basic
[Statedef 192]
type = S
movetype= I
physics = S
ctrl = 0
anim = 192
velset = 0,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 79
value = S500,12
volumescale = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 79
value = S500,12
volumescale = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 79
value = S500,12
volumescale = 999

[State 0, PlaySnd]
type = PlaySnd ;52
trigger1 = time = 44
value = S52,0
volumescale = 999

[State 0, PlaySnd]
type = PlaySnd ;voando
trigger1 = time = 20
trigger2 = time = 26
trigger3 = time = 32
trigger4 = time = 38
value = S200,24

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 20
trigger2 = time = 26
trigger3 = time = 32
trigger4 = time = 38
time = 5
ampl = -2

[State 0, Explod]
type = Explod
trigger1 = time = 32
anim = 7200
ID = 7200
vel = -8,5
angle = -100
facing = -1
pos = 50,-50
postype = p1  ;p2,front,back,left,right
scale = .4,.5
sprpriority = 10

[State 0, Explod]
type = Explod
trigger1 = time = 30
anim = 7860
ID = 7860
angle = -0
pos = 80,-60
postype = p1  ;p2,front,back,left,right
scale = .04,.08
sprpriority = 10
[State 0, Explod]
type = Explod
trigger1 = time = 26
anim = 7200
ID = 7200
vel = 7,6
angle = -100
pos = 20,-100
postype = p1  ;p2,front,back,left,right
scale = .4,.5
sprpriority = 10

[State 0, Explod]
type = Explod
trigger1 = time = 24
anim = 7860
ID = 7860
angle = 0
pos = 0,-120
postype = p1  ;p2,front,back,left,right
scale = .08,.05
sprpriority = 10
[State 0, Explod]
type = Explod
trigger1 = time = 20
anim = 7200
ID = 7200
vel = 10,-4
angle = -50
pos = -80,-80
postype = p1  ;p2,front,back,left,right
scale = .4,.5
sprpriority = 10

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 0
x = 20
y = 0

[State 0, VelAdd]
type = VelAdd
trigger1 = animelem = 2
x = -3
y = 0

[State 0, Explod]
type = Explod
trigger1 = animelem = 2
anim = 6000
ID = 6000
ownpal = 1
pos = -10,-5
postype = p1  ;p2,front,back,left,right
scale = .45,.45
sprpriority = 6

[State 190, 2] ;Assert this until you want "round 1, fight" to begin
type = AssertSpecial
trigger1 = 1
flag = Intro


[State 190, 4] ;Change to stand state
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 0
;---------------------------------------------
[Statedef 194]
type = S
ctrl = 0
anim = 194
velset = 0,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 10
value = S500,11
volumescale = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 10
value = S500,11
volumescale = 999

[State 190, 2] ;Assert this until you want "round 1, fight" to begin
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 27
value = S200,40


[State 0, Explod]
type = Explod
trigger1 = time = 155
anim = 7702
ID = 7702
pos = -23,-5
postype = p1  ;p2,front,back,left,right
scale = .1,.1
sprpriority = 11

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 195
ID = 195
pos = -23,5
removetime = 151
postype = p1  ;p2,front,back,left,right
scale = 1,.7
sprpriority = 10

[State 190, 4] ;Change to stand state
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 0
;---------------------------------------------------------------------------

[Statedef 200]
type    = S
movetype= A
physics = S
juggle  = 3
poweradd= 22
ctrl = 0
velset = 0,0
anim = 200

[State 0, VelAdd]
type = VelAdd
trigger1 = animelem = 3
x = 5
y = 0

[State 0, SprPriority]
type = SprPriority
trigger1 = 1
value = 2

[State 0, Helper]
type = Helper
trigger1 = animelem = 3
helpertype = normal ;player
name = "AfterFX1"
ID = 201
stateno = 201
ownpal = 1
vfacing = -1
pos = 35,-36
ignorehitpause = 99
postype = p1    ;p2,front,back,left,right
size.xscale = .05
size.yscale = .05

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 0
x = 15
y = 0

[State 0, Explod]
type = Explod
trigger1 = animelem = 2
anim = 9200
ID = 9200
pos = -10,-5
postype = p1  ;p2,front,back,left,right
scale = .15,.15
sprpriority = 1

[State 0, Explod]
type = Explod
trigger1 = timemod =1,0  && time <= 10
anim = 7501
ID = 7501
pos = -10-(random%10),-45+(random%40)
postype = p1  ;p2,front,back,left,right
scale = .05,.05
sprpriority = 10

[State 5000]
type = PlaySnd
trigger1 = time=0
value = S500,0
volumescale = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S200,6

[State 0, 1]
type = HitDef
trigger1 = time =0
attr = S, NA
damage = 25
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 10, 15
sparkno = -1;S6055
sparkxy = -10, -30
hitsound = S200,3
guard.sparkno = S7100
guardsound = S200,41
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -4
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -2,0
air.hittime = 12
Envshake.time = 5

[State 0, Helper]
type = Helper
triggerall = numhelper(289) = 0
trigger1 = movehit = 1
helpertype = normal ;player
name = "HitSpark"
ID = 289
stateno = 289
ownpal = 1
pos = 30,-35
ignorehitpause = 99
postype = p1    ;p2,front,back,left,right
size.xscale = .05
size.yscale = .05
[State 0, Helper]
type = Helper
triggerall = numhelper(288) = 0
trigger1 = movehit = 1
helpertype = normal ;player
name = "HitSpark2"
ID = 288
stateno = 288
ownpal = 1
pos = 30,-35
ignorehitpause = 99
postype = p1    ;p2,front,back,left,right
size.xscale = .2
size.yscale = .2
[State 0, Helper]
type = Helper
triggerall = numhelper(287) = 0
trigger1 = movehit = 1
helpertype = normal ;player
name = "HitSpark3"
ID = 287
stateno = 287
ownpal = 1
pos = 30,-35
ignorehitpause = 99
postype = p1    ;p2,front,back,left,right
size.xscale = .08
size.yscale = .08

[State 231, end]
type = ChangeState
triggerall = movehit
Triggerall = AIlevel > 0
trigger1 = time >= 9
value = 210
ctrl = 1

[State 271, end]
type = ChangeState
trigger1 = command = "D,F,a"
triggerall = power >= 1000
triggerall = movehit
value = 1000
ctrl = 1
[State 271, end]
type = ChangeState
trigger1 = command = "D,B,a"
triggerall = power >= 1000
triggerall = movehit
value = 1100
ctrl = 1
[State 271, end]
type = ChangeState
trigger1 = command = "D,F,b"
triggerall = power >= 1500
triggerall = movehit
value = 1200
ctrl = 1
[State 271, end]
type = ChangeState
trigger1 = command = "D,B,b"
triggerall = power >= 1500
triggerall = movehit
value = 1300
ctrl = 1
[State 271, end]
type = ChangeState
trigger1 = command = "D,F,c"
triggerall = power >= 2000
triggerall = movehit
value = 1400
ctrl = 1
[State 271, end]
type = ChangeState
trigger1 = command = "D,D,a" && ailevel = 0
trigger2 = command = "D,D,b" && ailevel = 0
trigger3 = command = "D,D,c" && ailevel = 0
trigger4 = random < 200 && p2life < 350 && ailevel > 0
triggerall = power >= 3000
triggerall = movehit
value = 4500
ctrl = 1

[State 230, end]
type = ChangeState
Triggerall = AIlevel = 0
triggerall = movehit
triggerall = command = "holddown"
trigger1 = command = "a"
value = 270
ctrl = 1
[State 230, end]
type = ChangeState
Triggerall = AIlevel = 0
triggerall = movehit
triggerall = command = "holddown"
trigger1 = command = "b"
value = 350
ctrl = 1
[State 230, end]
type = ChangeState
Triggerall = AIlevel = 0
triggerall = movehit
triggerall = command = "holddown"
trigger1 = command = "c"
value = 290
ctrl = 1

[State 230, end]
type = ChangeState
triggerall = movehit
Triggerall = AIlevel = 0
trigger1 = command = "a"
value = 210
ctrl = 1

[State 230, end]
type = ChangeState
triggerall = movehit
Triggerall = AIlevel = 0
trigger1 = command = "b"
value = 250
ctrl = 1

[State 231, end]
type = ChangeState
triggerall = moveguarded
trigger1 = Ailevel > 0
trigger1 = random>500 && animtime=0
value = 410
ctrl = 1

[State 231, end]
type = ChangeState
triggerall = moveguarded
trigger1 = Ailevel > 0
trigger1 = random<=500 && animtime=0
value = 232
ctrl = 1


[State 200, 6]
type = ChangeState
triggerall = AIlevel > 0
trigger1 = random<=500 && animtime=0
value = 105
ctrl = 1

[State 230, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
          ;after1
[Statedef 201]
type    = A
movetype= I
physics = N
anim = 7302
sprpriority = 3

[State 0, SprPriority]
type = SprPriority
trigger1 = 1
value = 4

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = -95

[State 0, PalFXWiz]
type = PalFX
trigger1 = time =0
time = 999
add = 0,-200,0
mul = 256,256,256
sinadd = 0,8,0,10
invertall = 0
color = 0

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow

[State 200, End]
type = Destroyself
trigger1 = AnimTime = 0
;---------------------------------------------------------------------------

[Statedef 210]
type    = S
movetype= A
physics = S
juggle  = 3
poweradd= 22
ctrl = 0
velset = 0,0
anim = 210

[State 0, SprPriority]
type = SprPriority
trigger1 = 1
value = 4
ignorehitpause = 99

[State 0, Helper]
type = Helper
trigger1 = animelem = 5
helpertype = normal ;player
name = "AfterFX2"
ID = 211
stateno = 211
ownpal = 1
vfacing = -1
pos = 30,-10
ignorehitpause = 99
postype = p1    ;p2,front,back,left,right
size.xscale = .1
size.yscale = .4

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 0
x = 10
y = 0

[State 0, Explod]
type = Explod
trigger1 = animelem = 5
anim = 9200
ID = 9200
vel = -1,0
pos = -20,-5
postype = p1  ;p2,front,back,left,right
scale = .15,.15
sprpriority = 1

[State 0, Explod]
type = Explod
trigger1 = timemod =1,0  && time <= 10
anim = 7501
ID = 7501
pos = -10-(random%10),-45+(random%40)
postype = p1  ;p2,front,back,left,right
scale = .05,.05
sprpriority = 10

[State 5000]
type = PlaySnd
trigger1 =  time=0
value = S500,1
volumescale = 999
[State 5000]
type = PlaySnd
trigger1 =  time=0
value = S500,1
volumescale = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5
value = S200,0
volumescale = 999

[State 0, 1]
type = HitDef
trigger1 = time =0
attr = S, NA
damage = 25
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 10, 20
sparkno = -1;S6055
sparkxy = -10, -30
hitsound = S200,2
guard.sparkno = S7100
guardsound = S200,40
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -5,0
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -2,0
air.hittime = 12
Envshake.time = 5

[State 0, Helper]
type = Helper
triggerall = numhelper(285) = 0
trigger1 = movehit = 1
helpertype = normal ;player
name = "HitSpark"
ID = 285
stateno = 285
ownpal = 1
pos = 0,-20
ignorehitpause = 99
postype = p2    ;p2,front,back,left,right
size.xscale = .15
size.yscale = .15
[State 0, Helper]
type = Helper
triggerall = numhelper(286) = 0
trigger1 = movehit = 1
helpertype = normal ;player
name = "HitSpark2"
ID = 286
stateno = 286
ownpal = 1
pos = 0,-20
ignorehitpause = 99
postype = p2    ;p2,front,back,left,right
size.xscale = .15
size.yscale = .15
[State 0, Helper]
type = Helper
triggerall = numhelper(287) = 0
trigger1 = movehit = 1
helpertype = normal ;player
name = "HitSpark3"
ID = 287
stateno = 287
ownpal = 1
pos = 0,-20
ignorehitpause = 99
postype = p2    ;p2,front,back,left,right
size.xscale = .08
size.yscale = .08

[State 231, end]
type = ChangeState
triggerall = movehit
Triggerall = AIlevel > 0
trigger1 = time = 11
value = 220
ctrl = 1

[State 271, end]
type = ChangeState
trigger1 = command = "D,F,a"
triggerall = power >= 1000
triggerall = movehit
value = 1000
ctrl = 1
[State 271, end]
type = ChangeState
trigger1 = command = "D,B,a"
triggerall = power >= 1000
triggerall = movehit
value = 1100
ctrl = 1
[State 271, end]
type = ChangeState
trigger1 = command = "D,F,b"
triggerall = power >= 1500
triggerall = movehit
value = 1200
ctrl = 1
[State 271, end]
type = ChangeState
trigger1 = command = "D,B,b"
triggerall = power >= 1500
triggerall = movehit
value = 1300
ctrl = 1
[State 271, end]
type = ChangeState
trigger1 = command = "D,F,c"
triggerall = power >= 2000
triggerall = movehit
value = 1400
ctrl = 1
[State 271, end]
type = ChangeState
trigger1 = command = "D,D,a" && ailevel = 0
trigger2 = command = "D,D,b" && ailevel = 0
trigger3 = command = "D,D,c" && ailevel = 0
trigger4 = random < 200 && p2life < 350 && ailevel > 0
triggerall = power >= 3000
triggerall = movehit
value = 4500
ctrl = 1

[State 230, end]
type = ChangeState
Triggerall = AIlevel = 0
triggerall = movehit
triggerall = command = "holddown"
trigger1 = command = "a"
value = 270
ctrl = 1
[State 230, end]
type = ChangeState
Triggerall = AIlevel = 0
triggerall = movehit
triggerall = command = "holddown"
trigger1 = command = "b"
value = 350
ctrl = 1
[State 230, end]
type = ChangeState
Triggerall = AIlevel = 0
triggerall = movehit
triggerall = command = "holddown"
trigger1 = command = "c"
value = 290
ctrl = 1

[State 230, end]
type = ChangeState
Triggerall = AIlevel = 0
triggerall = movehit
trigger1 = command = "a"
value = 220
ctrl = 1

[State 230, end]
type = ChangeState
Triggerall = AIlevel = 0
triggerall = movehit
trigger1 = command = "b"
value = 250
ctrl = 1


[State 231, end]
type = ChangeState
triggerall = moveguarded
trigger1 = Ailevel > 0
trigger1 = random<=500 && animtime=0
value = 232
ctrl = 1


[State 200, 6]
type = ChangeState
triggerall = AIlevel > 0
trigger1 = random<=500 && animtime=0
value = 105
ctrl = 1

[State 230, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
          ;after2
[Statedef 211]
type    = A
movetype= I
physics = N
anim = 7301
sprpriority = 6

[State 0, SprPriority]
type = SprPriority
trigger1 = 1
value = 10
ignorehitpause = 99

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = 85

[State 0, BindToRoot]
type = BindToRoot
trigger1 = time = 0
time = 10
pos = 5,-45

[State 0, SprPriority]
type = SprPriority
trigger1 = 1
value = 4

[State 0, PalFXWiz]
type = PalFX
trigger1 = time =0
time = 999
add = 0,-200,10
mul = 256,256,256
sinadd = 0,8,0,10
invertall = 0
color = 0

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow

[State 200, End]
type = Destroyself
trigger1 = AnimTime = 0
;---------------------------------------------------------------------------

[Statedef 220]
type    = S
movetype= A
physics = S
juggle  = 3
poweradd= 22
ctrl = 0
velset = 0,0
anim = 220

[State 0, SprPriority]
type = SprPriority
trigger1 = 1
value = 2

[State 0, Helper]
type = Helper
trigger1 = animelem = 6
helpertype = normal ;player
name = "AfterFX2"
ID = 221
stateno = 221
ownpal = 1
vfacing = -1
pos = 30,-10
ignorehitpause = 99
postype = p1    ;p2,front,back,left,right
size.xscale = .2
size.yscale = .2

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 0
x = 10
y = 0

[State 0, Explod]
type = Explod
trigger1 = animelem = 6
anim = 9200
ID = 9200
pos = -25,-5
postype = p1  ;p2,front,back,left,right
scale = .15,.15
sprpriority = 1

[State 0, Explod]
type = Explod
trigger1 = timemod =1,0  && time <= 15
anim = 7501
ID = 7501
pos = -10-(random%10),-45+(random%40)
postype = p1  ;p2,front,back,left,right
scale = .05,.05
sprpriority = 10

[State 5000]
type = PlaySnd
trigger1 = time=0
value = S500,2
volumescale = 999

[State 5000]
type = PlaySnd
trigger1 = time=0
value = S500,2
volumescale = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 6
value = S200,1
volumescale = 999

[State 0, 1]
type = HitDef
trigger1 = time =0
attr = S, NA
damage = 25
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 10, 20
sparkno = -1;S6055
sparkxy = -10, -30
hitsound = S200,2
guard.sparkno = S7100
guardsound = S200,40
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -3,0
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -2,0
air.hittime = 12
Envshake.time = 5

[State 0, Helper]
type = Helper
triggerall = numhelper(285) = 0
trigger1 = movehit = 1
helpertype = normal ;player
name = "HitSpark"
ID = 285
stateno = 285
ownpal = 1
pos = 40,-25
ignorehitpause = 99
postype = p1    ;p2,front,back,left,right
size.xscale = .15
size.yscale = .15
[State 0, Helper]
type = Helper
triggerall = numhelper(286) = 0
trigger1 = movehit = 1
helpertype = normal ;player
name = "HitSpark2"
ID = 286
stateno = 286
ownpal = 1
pos = 40,-25
ignorehitpause = 99
postype = p1    ;p2,front,back,left,right
size.xscale = .15
size.yscale = .15
[State 0, Helper]
type = Helper
triggerall = numhelper(287) = 0
trigger1 = movehit = 1
helpertype = normal ;player
name = "HitSpark3"
ID = 287
stateno = 287
ownpal = 1
pos = 40,-25
ignorehitpause = 99
postype = p1    ;p2,front,back,left,right
size.xscale = .08
size.yscale = .08

[State 231, end]
type = ChangeState
triggerall = movehit
Triggerall = AIlevel > 0
trigger1 = time = 11
value = 232
ctrl = 1

[State 271, end]
type = ChangeState
trigger1 = command = "D,F,a"
triggerall = power >= 1000
triggerall = movehit
value = 1000
ctrl = 1
[State 271, end]
type = ChangeState
trigger1 = command = "D,B,a"
triggerall = power >= 1000
triggerall = movehit
value = 1100
ctrl = 1
[State 271, end]
type = ChangeState
trigger1 = command = "D,F,b"
triggerall = power >= 1500
triggerall = movehit
value = 1200
ctrl = 1
[State 271, end]
type = ChangeState
trigger1 = command = "D,B,b"
triggerall = power >= 1500
triggerall = movehit
value = 1300
ctrl = 1
[State 271, end]
type = ChangeState
trigger1 = command = "D,F,c"
triggerall = power >= 2000
triggerall = movehit
value = 1400
ctrl = 1
[State 271, end]
type = ChangeState
trigger1 = command = "D,D,a" && ailevel = 0
trigger2 = command = "D,D,b" && ailevel = 0
trigger3 = command = "D,D,c" && ailevel = 0
trigger4 = random < 200 && p2life < 350 && ailevel > 0
triggerall = power >= 3000
triggerall = movehit
value = 4500
ctrl = 1

[State 230, end]
type = ChangeState
Triggerall = AIlevel = 0
triggerall = movehit
trigger1 = command = "b"
value = 232
ctrl = 1
[State 230, end]
type = ChangeState
Triggerall = AIlevel = 0
triggerall = movehit
triggerall = command = "holddown"
trigger1 = command = "a"
value = 270
ctrl = 1
[State 230, end]
type = ChangeState
Triggerall = AIlevel = 0
triggerall = movehit
triggerall = command = "holddown"
trigger1 = command = "b"
value = 350
ctrl = 1
[State 230, end]
type = ChangeState
Triggerall = AIlevel = 0
triggerall = movehit
triggerall = command = "holddown"
trigger1 = command = "c"
value = 290
ctrl = 1


[State 231, end]
type = ChangeState
triggerall = moveguarded
trigger1 = Ailevel > 0
trigger1 = random<=500 && animtime=0
value = 232
ctrl = 1


[State 200, 6]
type = ChangeState
triggerall = AIlevel > 0
trigger1 = random<=500 && animtime=0
value = 105
ctrl = 1

[State 230, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
          ;after1
[Statedef 221]
type    = A
movetype= I
physics = N
anim = 7300
sprpriority = 6

[State 0, SprPriority]
type = SprPriority
trigger1 = 1
value = 10
ignorehitpause = 99

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = 0

[State 0, BindToRoot]
type = BindToRoot
trigger1 = time = 0
time = 10
pos = 5,-35

[State 0, SprPriority]
type = SprPriority
trigger1 = 1
value = 4

[State 0, PalFXWiz]
type = PalFX
trigger1 = time =0
time = 999
add = 0,-200,20
mul = 256,256,256
sinadd = 0,8,0,10
invertall = 0
color = 0

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow

[State 200, End]
type = Destroyself
trigger1 = AnimTime = 0
;---------------------------------------------------------------------------

[Statedef 230]
type    = S
movetype= A
physics = S
juggle  = 3
poweradd= 22
ctrl = 0
velset = 0,0
anim = 230

[State 0, PosAdd]
type = PosAdd
trigger1 = animelem = 1
x = 10
y = 0

[State 0, SprPriority]
type = SprPriority
trigger1 = 1
value = 6
ignorehitpause = 99

[State 0, Helper]
type = Helper
trigger1 = animelem = 6
helpertype = normal ;player
name = "AfterFX2"
ID = 231
stateno = 231
ownpal = 1
vfacing = -1
pos = 15,-30
ignorehitpause = 99
postype = p1    ;p2,front,back,left,right
size.xscale = .27
size.yscale = .17
bindtime = 99

[State 0, Explod]
type = Explod
trigger1 = animelem = 6
anim = 9200
ID = 9200
vel= -1,0
pos = -20,-5
postype = p1  ;p2,front,back,left,right
scale = .15,.15
sprpriority = 1

[State 0, Explod]
type = Explod
trigger1 = timemod =1,0  && time = [8,18]
anim = 7501
ID = 7501
pos = -10-(random%10),-45+(random%40)
postype = p1  ;p2,front,back,left,right
scale = .05,.05
sprpriority = 10

[State 5000]
type = PlaySnd
trigger1 =  time=0
value = S500,3
volumescale = 999
[State 5000]
type = PlaySnd
trigger1 =  time=0
value = S500,3
volumescale = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S200,0
volumescale = 999

[State 0, 1]
type = HitDef
trigger1 = time =0
attr = S, NA
damage = 25
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 10, 20
sparkno = -1;S6055
sparkxy = -10, -30
hitsound = S200,2
guard.sparkno = S7100
guardsound = S200,40
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -3,0
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -2,0
air.hittime = 12
Envshake.time = 5

[State 0, Helper]
type = Helper
triggerall = numhelper(285) = 0
trigger1 = movehit = 1
helpertype = normal ;player
name = "HitSpark"
ID = 285
stateno = 285
ownpal = 1
pos = 0,-30
ignorehitpause = 99
postype = p2    ;p2,front,back,left,right
size.xscale = .15
size.yscale = .15
[State 0, Helper]
type = Helper
triggerall = numhelper(286) = 0
trigger1 = movehit = 1
helpertype = normal ;player
name = "HitSpark2"
ID = 286
stateno = 286
ownpal = 1
pos = 0,-30
ignorehitpause = 99
postype = p2    ;p2,front,back,left,right
size.xscale = .15
size.yscale = .15
[State 0, Helper]
type = Helper
triggerall = numhelper(287) = 0
trigger1 = movehit = 1
helpertype = normal ;player
name = "HitSpark3"
ID = 287
stateno = 287
ownpal = 1
pos = 0,-30
ignorehitpause = 99
postype = p2    ;p2,front,back,left,right
size.xscale = .08
size.yscale = .08

[State 231, end]
type = ChangeState
triggerall = movehit
Triggerall = AIlevel > 0
trigger1 = time = 12
value = 240
ctrl = 1

[State 271, end]
type = ChangeState
trigger1 = command = "D,F,a"
triggerall = power >= 1000
triggerall = movehit
value = 1000
ctrl = 1
[State 271, end]
type = ChangeState
trigger1 = command = "D,B,a"
triggerall = power >= 1000
triggerall = movehit
value = 1100
ctrl = 1
[State 271, end]
type = ChangeState
trigger1 = command = "D,F,b"
triggerall = power >= 1500
triggerall = movehit
value = 1200
ctrl = 1
[State 271, end]
type = ChangeState
trigger1 = command = "D,B,b"
triggerall = power >= 1500
triggerall = movehit
value = 1300
ctrl = 1
[State 271, end]
type = ChangeState
trigger1 = command = "D,F,c"
triggerall = power >= 2000
triggerall = movehit
value = 1400
ctrl = 1
[State 271, end]
type = ChangeState
trigger1 = command = "D,D,a" && ailevel = 0
trigger2 = command = "D,D,b" && ailevel = 0
trigger3 = command = "D,D,c" && ailevel = 0
trigger4 = random < 200 && p2life < 350 && ailevel > 0
triggerall = power >= 3000
triggerall = movehit
value = 4500
ctrl = 1

[State 230, end]
type = ChangeState
triggerall = movehit
triggerall = command = "holddown"
trigger1 = command = "a"
value = 270
ctrl = 1
[State 230, end]
type = ChangeState
triggerall = movehit
triggerall = command = "holddown"
trigger1 = command = "b"
value = 350
ctrl = 1
[State 230, end]
type = ChangeState
triggerall = movehit
triggerall = command = "holddown"
trigger1 = command = "c"
value = 290
ctrl = 1
[State 230, end]
type = ChangeState
triggerall = movehit
trigger1 = command = "b"
value = 240
ctrl = 1


[State 231, end]
type = ChangeState
triggerall = moveguarded
trigger1 = Ailevel > 0
trigger1 = random<=500 && animtime=0
value = 232
ctrl = 1


[State 200, 6]
type = ChangeState
triggerall = AIlevel > 0
trigger1 = random<=500 && animtime=0
value = 105
ctrl = 1

[State 230, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-------------------------------------------------------------------------------
          ;after3
[Statedef 231]
type    = A
movetype= I
physics = N
anim = 7303
sprpriority = 3

[State 0, SprPriority]
type = SprPriority
trigger1 = animelem = 1
value = 10

[State 0, SprPriority]
type = SprPriority
trigger1 = animelem = 2
value =  0

[State 0, PalFXWiz]
type = PalFX
trigger1 = time =0
time = 999
add = 0,-200,10
mul = 256,256,256
sinadd = 0,8,0,10
invertall = 0
color = 0

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow

[State 200, End]
type = Destroyself
trigger1 = AnimTime = 0
;---------------------------------------------------------------------------

[Statedef 232]
type    = S
movetype= A
physics = S
juggle  = 3
poweradd= 22
ctrl = 0
velset = 0,0
anim = 232

[State 0, PosAdd]
type = PosAdd
trigger1 = animelem = 4
x = 10
y = 0

[State 0, SprPriority]
type = SprPriority
trigger1 = 1
value = 6
ignorehitpause = 99

[State 0, Helper]
type = Helper
trigger1 = animelem = 4
helpertype = normal ;player
name = "AfterFX2"
ID = 231
stateno = 231
ownpal = 1
vfacing = -1
pos = 15,-30
ignorehitpause = 99
postype = p1    ;p2,front,back,left,right
size.xscale = .27
size.yscale = .17
bindtime = 99

[State 0, Explod]
type = Explod
trigger1 = animelem = 4
anim = 9200
ID = 9200
pos = -10,-5
postype = p1  ;p2,front,back,left,right
scale = .15,.15
sprpriority = 1

[State 0, Explod]
type = Explod
trigger1 = timemod =1,0  && time = [10,20]
anim = 7501
ID = 7501
pos = -10-(random%10),-45+(random%40)
postype = p1  ;p2,front,back,left,right
scale = .05,.05
sprpriority = 10

[State 5000]
type = PlaySnd
trigger1 =  time=0
value = S500,3
volumescale = 999
[State 5000]
type = PlaySnd
trigger1 =  time=0
value = S500,3
volumescale = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S200,1
volumescale = 999

[State 0, 1]
type = HitDef
trigger1 = time =0
attr = S, NA
damage = 25
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 10, 20
sparkno = -1;S6055
sparkxy = -10, -30
hitsound = S200,2
guard.sparkno = S7100
guardsound = S200,40
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -3,0
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -2,0
air.hittime = 12
Envshake.time = 5

[State 0, Helper]
type = Helper
triggerall = numhelper(285) = 0
trigger1 = movehit = 1
helpertype = normal ;player
name = "HitSpark"
ID = 285
stateno = 285
ownpal = 1
pos = 0,-30
ignorehitpause = 99
postype = p2    ;p2,front,back,left,right
size.xscale = .15
size.yscale = .15
[State 0, Helper]
type = Helper
triggerall = numhelper(286) = 0
trigger1 = movehit = 1
helpertype = normal ;player
name = "HitSpark2"
ID = 286
stateno = 286
ownpal = 1
pos = 0,-30
ignorehitpause = 99
postype = p2    ;p2,front,back,left,right
size.xscale = .15
size.yscale = .15
[State 0, Helper]
type = Helper
triggerall = numhelper(287) = 0
trigger1 = movehit = 1
helpertype = normal ;player
name = "HitSpark3"
ID = 287
stateno = 287
ownpal = 1
pos = 0,-30
ignorehitpause = 99
postype = p2    ;p2,front,back,left,right
size.xscale = .08
size.yscale = .08

[State 231, end]
type = ChangeState
triggerall = movehit
Triggerall = AIlevel > 0
trigger1 = time = 12
value = 240
ctrl = 1

[State 271, end]
type = ChangeState
trigger1 = command = "D,F,a"
triggerall = power >= 1000
triggerall = movehit
value = 1000
ctrl = 1
[State 271, end]
type = ChangeState
trigger1 = command = "D,B,a"
triggerall = power >= 1000
triggerall = movehit
value = 1100
ctrl = 1
[State 271, end]
type = ChangeState
trigger1 = command = "D,F,b"
triggerall = power >= 1500
triggerall = movehit
value = 1200
ctrl = 1
[State 271, end]
type = ChangeState
trigger1 = command = "D,B,b"
triggerall = power >= 1500
triggerall = movehit
value = 1300
ctrl = 1
[State 271, end]
type = ChangeState
trigger1 = command = "D,F,c"
triggerall = power >= 2000
triggerall = movehit
value = 1400
ctrl = 1
[State 271, end]
type = ChangeState
trigger1 = command = "D,D,a" && ailevel = 0
trigger2 = command = "D,D,b" && ailevel = 0
trigger3 = command = "D,D,c" && ailevel = 0
trigger4 = random < 200 && p2life < 350 && ailevel > 0
triggerall = power >= 3000
triggerall = movehit
value = 4500
ctrl = 1

[State 230, end]
type = ChangeState
Triggerall = AIlevel = 0
triggerall = movehit
triggerall = command = "holddown"
trigger1 = command = "a"
value = 270
ctrl = 1

[State 230, end]
type = ChangeState
Triggerall = AIlevel = 0
triggerall = movehit
trigger1 = command = "b"
value = 240
ctrl = 1


[State 231, end]
type = ChangeState
triggerall = moveguarded
trigger1 = Ailevel > 0
trigger1 = random<=500 && animtime=0
value = 232
ctrl = 1


[State 200, 6]
type = ChangeState
triggerall = AIlevel > 0
trigger1 = random<=500 && animtime=0
value = 105
ctrl = 1

[State 230, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;---------------------------------------------------------------------------

[Statedef 240]
type    = S
movetype= A
physics = S
juggle  = 3
poweradd= 22
ctrl = 0
velset = 0,0
anim = 240

[State 0, SprPriority]
type = SprPriority
trigger1 = 1
value = 4
ignorehitpause = 99

[State 0, Helper]
type = Helper
trigger1 = animelem = 7
helpertype = normal ;player
name = "AfterFX2"
ID = 241
stateno = 241
ownpal = 1
vfacing = -1
pos = 12,-22
ignorehitpause = 99
postype = p1    ;p2,front,back,left,right
size.xscale = .18
size.yscale = .35
bindtime = 99

[State 0, VelSet]
type = Veladd
trigger1 = animelem = 6
x = 4
y = 0

[State 0, Explod]
type = Explod
trigger1 = animelem = 6
anim = 9200
ID = 9200
vel = -1,0
pos = -10,-5
postype = p1  ;p2,front,back,left,right
scale = .15,.15
sprpriority = 1

[State 0, Explod]
type = Explod
trigger1 = timemod =1,0  && time = [6,12]
anim = 7501
ID = 7501
pos = 10-(random%10),-45+(random%40)
postype = p1  ;p2,front,back,left,right
scale = .05,.05
sprpriority = 10
ignorehitpause = 99

[State 5000]
type = PlaySnd
trigger1 =  time=0
value = S500,4
volumescale = 999
[State 5000]
type = PlaySnd
trigger1 =  time=0
value = S500,4
volumescale = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 6
value = S200,1
volumescale = 999

[State 0, 1]
type = HitDef
trigger1 = time =0
attr = S, NA
damage = 25
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 10, 15
sparkno = -1;S6055
sparkxy = -10, -30
hitsound = S200,2
guard.sparkno = S7100
guardsound = S200,40
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -6,0
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -2,0
air.hittime = 12
Envshake.time = 5

[State 0, Helper]
type = Helper
triggerall = numhelper(285) = 0
trigger1 = movehit = 1
helpertype = normal ;player
name = "HitSpark"
ID = 285
stateno = 285
ownpal = 1
pos = 0,-10
ignorehitpause = 99
postype = p2    ;p2,front,back,left,right
size.xscale = .15
size.yscale = .15
[State 0, Helper]
type = Helper
triggerall = numhelper(286) = 0
trigger1 = movehit = 1
helpertype = normal ;player
name = "HitSpark2"
ID = 286
stateno = 286
ownpal = 1
pos = 0,-10
ignorehitpause = 99
postype = p2    ;p2,front,back,left,right
size.xscale = .15
size.yscale = .15
[State 0, Helper]
type = Helper
triggerall = numhelper(287) = 0
trigger1 = movehit = 1
helpertype = normal ;player
name = "HitSpark3"
ID = 287
stateno = 287
ownpal = 1
pos = 0,-10
ignorehitpause = 99
postype = p2    ;p2,front,back,left,right
size.xscale = .08
size.yscale = .08

[State 271, end]
type = ChangeState
trigger1 = command = "D,F,a"
triggerall = power >= 1000
triggerall = movehit
value = 1000
ctrl = 1
[State 271, end]
type = ChangeState
trigger1 = command = "D,B,a"
triggerall = power >= 1000
triggerall = movehit
value = 1100
ctrl = 1
[State 271, end]
type = ChangeState
trigger1 = command = "D,F,b"
triggerall = power >= 1500
triggerall = movehit
value = 1200
ctrl = 1
[State 271, end]
type = ChangeState
trigger1 = command = "D,B,b"
triggerall = power >= 1500
triggerall = movehit
value = 1300
ctrl = 1
[State 271, end]
type = ChangeState
trigger1 = command = "D,F,c"
triggerall = power >= 2000
triggerall = movehit
value = 1400
ctrl = 1
[State 271, end]
type = ChangeState
trigger1 = command = "D,D,a" && ailevel = 0
trigger2 = command = "D,D,b" && ailevel = 0
trigger3 = command = "D,D,c" && ailevel = 0
trigger4 = random < 200 && p2life < 350 && ailevel > 0
triggerall = power >= 3000
triggerall = movehit
value = 4500
ctrl = 1

[State 231, end]
type = ChangeState
triggerall = movehit
Triggerall = AIlevel > 0
trigger1 = time = 13
value = 250
ctrl = 1

[State 230, end]
type = ChangeState
Triggerall = AIlevel = 0
triggerall = movehit
triggerall = command = "holddown"
trigger1 = command = "a"
value = 270
ctrl = 1

[State 230, end]
type = ChangeState
Triggerall = AIlevel = 0
triggerall = movehit
triggerall = command = "holddown"
trigger1 = command = "b"
value = 350
ctrl = 1
[State 230, end]
type = ChangeState
Triggerall = AIlevel = 0
triggerall = movehit
triggerall = command = "holddown"
trigger1 = command = "c"
value = 290
ctrl = 1
[State 230, end]
type = ChangeState
Triggerall = AIlevel = 0
triggerall = movehit
trigger1 = command = "b"
value = 250
ctrl = 1


[State 231, end]
type = ChangeState
triggerall = moveguarded
trigger1 = Ailevel > 0
trigger1 = random<=500 && animtime=0
value = 232
ctrl = 1


[State 200, 6]
type = ChangeState
triggerall = AIlevel > 0
trigger1 = random<=500 && animtime=0
value = 105
ctrl = 1

[State 230, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-------------------------------------------------------------------------------
          ;after3
[Statedef 241]
type    = A
movetype= I
physics = N
anim = 7301
sprpriority = 3

[State 0, BindToRoot]
type = BindToRoot
trigger1 = time = 0
time = 10
pos = 5,-40

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = 80

[State 0, SprPriority]
type = SprPriority
trigger1 = 1
value = 5

[State 0, PalFXWiz]
type = PalFX
trigger1 = time =0
time = 999
add = 0,-200,10
mul = 256,256,256
sinadd = 0,8,0,10
invertall = 0
color = 0

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow

[State 200, End]
type = Destroyself
trigger1 = AnimTime = 0
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------

[Statedef 250]
type    = S
movetype= A
physics = S
juggle  = 3
poweradd= 22
ctrl = 0
velset = 0,0
anim = 250

[State 0, Helper]
type = Helper
trigger1 = animelem = 5
helpertype = normal ;player
name = "AfterFX7"
ID = 251
stateno = 251
ownpal = 1
vfacing = -1
pos = 25,-34
ignorehitpause = 99
postype = p1    ;p2,front,back,left,right
size.xscale = .2
size.yscale = .4

[State 0, SprPriority]
type = SprPriority
trigger1 = 1
value = 5
ignorehitpause = 99


[State 0, SprPriority]
type = SprPriority
trigger1 = 1
value = 5

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 0
x = 10
y = 0

[State 0, Explod]
type = Explod
trigger1 = animelem = 4
anim = 9200
ID = 9200
vel = -1,0
pos = -20,-5
postype = p1  ;p2,front,back,left,right
scale = .15,.15
sprpriority = 1

[State 0, Explod]
type = Explod
trigger1 = timemod =1,0  && time <= 10
anim = 7501
ID = 7501
pos = 10-(random%10),-45+(random%40)
postype = p1  ;p2,front,back,left,right
scale = .05,.05
sprpriority = 10
ignorehitpause = 99

[State 5000]
type = PlaySnd
trigger1 = time=0
value = S500,2
volumescale = 999
[State 5000]
type = PlaySnd
trigger1 = time=0
value = S500,2
volumescale = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S200,1
volumescale = 999

[State 0, 1]
type = HitDef
trigger1 = time =0
attr = S, NA
damage = 30
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 10, 30
sparkno = -1;S6055
sparkxy = -10, -30
hitsound = S200,2
guard.sparkno = S7100
guardsound = S200,40
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -3,0
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -2,0
air.hittime = 12
Envshake.time = 5

[State 0, Helper]
type = Helper
triggerall = numhelper(285) = 0
trigger1 = movehit = 1
helpertype = normal ;player
name = "HitSpark"
ID = 285
stateno = 285
ownpal = 1
pos = 0,-35
ignorehitpause = 99
postype = p2    ;p2,front,back,left,right
size.xscale = .15
size.yscale = .15
[State 0, Helper]
type = Helper
triggerall = numhelper(286) = 0
trigger1 = movehit = 1
helpertype = normal ;player
name = "HitSpark2"
ID = 286
stateno = 286
ownpal = 1
pos = 0,-35
ignorehitpause = 99
postype = p2    ;p2,front,back,left,right
size.xscale = .15
size.yscale = .15
[State 0, Helper]
type = Helper
triggerall = numhelper(287) = 0
trigger1 = movehit = 1
helpertype = normal ;player
name = "HitSpark3"
ID = 287
stateno = 287
ownpal = 1
pos = 0,-35
ignorehitpause = 99
postype = p2    ;p2,front,back,left,right
size.xscale = .08
size.yscale = .08

[State 231, end]
type = ChangeState
triggerall = movehit
Triggerall = AIlevel > 0
trigger1 = time = 16
value = 260
ctrl = 1

[State 271, end]
type = ChangeState
trigger1 = command = "D,F,a"
triggerall = power >= 1000
triggerall = movehit
value = 1000
ctrl = 1
[State 271, end]
type = ChangeState
trigger1 = command = "D,B,a"
triggerall = power >= 1000
triggerall = movehit
value = 1100
ctrl = 1
[State 271, end]
type = ChangeState
trigger1 = command = "D,F,b"
triggerall = power >= 1500
triggerall = movehit
value = 1200
ctrl = 1
[State 271, end]
type = ChangeState
trigger1 = command = "D,B,b"
triggerall = power >= 1500
triggerall = movehit
value = 1300
ctrl = 1
[State 271, end]
type = ChangeState
trigger1 = command = "D,F,c"
triggerall = power >= 2000
triggerall = movehit
value = 1400
ctrl = 1
[State 271, end]
type = ChangeState
trigger1 = command = "D,D,a" && ailevel = 0
trigger2 = command = "D,D,b" && ailevel = 0
trigger3 = command = "D,D,c" && ailevel = 0
trigger4 = random < 200 && p2life < 350 && ailevel > 0
triggerall = power >= 3000
triggerall = movehit
value = 4500
ctrl = 1

[State 231, end]
type = ChangeState
triggerall = movehit
Triggerall = AIlevel > 0
trigger1 = time = 15 && random < 500
value = 270
ctrl = 1
[State 231, end]
type = ChangeState
triggerall = movehit
Triggerall = AIlevel > 0
trigger1 = time = 15 && random < 500
value = 290
ctrl = 1

[State 230, end]
type = ChangeState
Triggerall = AIlevel = 0
triggerall = movehit
triggerall = command = "holddown"
trigger1 = command = "a"
value = 270
ctrl = 1
[State 230, end]
type = ChangeState
Triggerall = AIlevel = 0
triggerall = movehit
triggerall = command = "holddown"
trigger1 = command = "b"
value = 350
ctrl = 1
[State 230, end]
type = ChangeState
Triggerall = AIlevel = 0
triggerall = movehit
triggerall = command = "holddown"
trigger1 = command = "c"
value = 290
ctrl = 1
[State 230, end]
type = ChangeState
Triggerall = AIlevel = 0
triggerall = movehit
trigger1 = command = "c"
value = 260
ctrl = 1

[State 231, end]
type = ChangeState
triggerall = moveguarded
trigger1 = Ailevel > 0
trigger1 = random<=500 && animtime=0
value = 232
ctrl = 1


[State 200, 6]
type = ChangeState
triggerall = AIlevel > 0
trigger1 = random<=500 && animtime=0
value = 105
ctrl = 1

[State 230, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-------------------------------------------------------------------------------
          ;after6
[Statedef 251]
type    = A
movetype= I
physics = N
anim = 7304
sprpriority = 3

[State 0, SprPriority]
type = SprPriority
trigger1 = 1
value = 10
ignorehitpause = 99

[State 0, PalFXWiz]
type = PalFX
trigger1 = time =0
time = 999
add = 0,-200,10
mul = 256,256,256
sinadd = 0,8,0,10
invertall = 0
color = 0

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow

[State 200, End]
type = Destroyself
trigger1 = AnimTime = 0
;----------------------------------------------
;---------------------------------------------------------------------------

[Statedef 260]
type    = S
movetype= A
physics = S
juggle  = 5
poweradd= 25
ctrl = 0
velset = 0,0
anim = 260
sprpriority = 5

[State 0, ChangeState]
type = ChangeState
trigger1 = prevstateno = 350
value = 262

[State 0, Helper]
type = Helper
triggerall = numhelper(265) = 0
trigger1 = movehit = 1
helpertype = normal ;player
name = "GrabSpark"
ID = 265
stateno = 265
ownpal = 1
pos = 30,-35
ignorehitpause = 99
postype = p1    ;p2,front,back,left,right
size.xscale = .1
size.yscale = .1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S500,5
volumescale = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S200,7

[State 0, VelAdd]
type = VelAdd
trigger1 = animelem = 3
x = 5
y = 0

[State 0, 1]
type = HitDef
trigger1 = time =0
attr = S, NA
damage = 20
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 0
sparkno = -1;S6055
sparkxy = -10, -30
hitsound = S200,3
guard.sparkno = S7100
guardsound = S200,40
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -6,0
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -2,0
air.hittime = 12
Envshake.time = 5

[State 0, TargetState]
type = TargetState
trigger1 = movehit = 1
value = 4368

[State 240,5]
type = ChangeState
trigger1 = movehit = 1
value = 261
ctrl = 1

[State 240, 5]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------

;-------------------------------------------------------------------------------
[StateDef 261]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 261
poweradd = 0
sprpriority = 2

[State 0, Explod]
type = Explod
trigger1 = animelem = 5
anim = 7400
ID = 7400
facing = -1
pos = -40,-44
postype = p1  ;p2,front,back,left,right
scale = .45,.45
sprpriority = 30
ownpal = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S200,9

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S500,0
volumescale = 999

[State 0, Turn]
type = Turn
trigger1 = animtime = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 25
value = S200,10

[State 0, Explod]
type = Explod
triggerall = numexplod (7702) = 0
trigger1 = p2stateno = 4369
anim = 7702
ID =7702
pos = -20,-25
ownpal = 1
postype = p2  ;p2,front,back,left,right
scale = .2,.2
sprpriority = 20
bindtime=0

[State 0, Explod]
type = Explod
triggerall = numexplod (7700) = 0
trigger1 = p2stateno = 4369
anim = 7700
ID =7700
pos = -20,-10
ownpal = 1
postype = p2  ;p2,front,back,left,right
scale = .35,.25
sprpriority = 10
bindtime=0

[State 0, Explod]
type = Explod
triggerall = numexplod (6100) = 0
trigger1 = p2stateno = 4369
anim = 6100
ID =6100
pos = -20,10
ownpal = 1
postype = p2  ;p2,front,back,left,right
scale = .2,.1
sprpriority = 0
bindtime=0
[State 0, Explod]
type = Explod
triggerall = numexplod (7701) = 0
trigger1 = p2stateno = 4369
anim = 7701
ID =7701
pos = -20,5
ownpal = 1
postype = p2  ;p2,front,back,left,right
scale = .2,.1
sprpriority = -2
bindtime=0

[State 0, TargetBind]
type = TargetBind
trigger1 = animelem = 6
time = 2
pos = -35,-20
[State 0, TargetBind]
type = TargetBind
trigger1 = animelem = 5
time = 2
pos = -20,-40
[State 0, TargetBind]
type = TargetBind
trigger1 = animelem = 4
time = 10
pos = 0,-50
[State 0, TargetBind]
type = TargetBind
trigger1 = animelem = 3
time = 10
pos = 15,-35
[State 0, TargetBind]
type = TargetBind
trigger1 = animelem = 2
time = 10
pos = 25,-30
[State 0, TargetBind]
type = TargetBind
trigger1 = animelem = 1
time = 25
pos = 30,-10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S0,7
volumescale = 999


[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 4,0 && time > 0
trigger1 = p2stateno = 4369
value = S2,14

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time=  13
value = S2,10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time=  22
value = S2,9
volumescale = 999

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 20
time = 15
freq = 120
ampl = -4

[State 0, VelAdd]
type = VelAdd
trigger1 = time = 16
x = 2
y = 0

[State 0, SprPriority]
type = SprPriority
trigger1 = time <= 16
value = 5
[State 0, SprPriority]
type = SprPriority
trigger1 = time >= 17
value = 10

[State 261, end]
type = ChangeState
triggerall = ailevel > 0
triggerall = power > 1000
trigger1 = AnimTime = 0 && random = [201,300]
value = 1100
ctrl = 1
[State 261, end]
type = ChangeState
triggerall = ailevel > 0
triggerall = power > 1000
trigger1 = AnimTime = 0 && random = [0,200]
value = 1000
ctrl = 1

[State 261, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------

[Statedef 262]
type    = S
movetype= A
physics = S
juggle  = 5
poweradd= 25
ctrl = 0
velset = 0,0
anim = 262
sprpriority = 5

[State 0, Helper]
type = Helper
triggerall = numhelper(265) = 0
trigger1 = movehit = 1
helpertype = normal ;player
name = "GrabSpark"
ID = 265
stateno = 265
ownpal = 1
pos = 30,-35
ignorehitpause = 99
postype = p1    ;p2,front,back,left,right
size.xscale = .1
size.yscale = .1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S500,5
volumescale = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S200,7

[State 0, VelAdd]
type = VelAdd
trigger1 = animelem = 2
x = 6
y = 0

[State 0, 1]
type = HitDef
trigger1 = time =0
attr = S, NA
damage = 20
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 0
sparkno = -1;S6055
sparkxy = -10, -30
hitsound = S200,3
guard.sparkno = S7100
guardsound = S200,40
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -6,0
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -2,0
air.hittime = 12
Envshake.time = 5

[State 0, TargetState]
type = TargetState
trigger1 = movehit = 1
value = 4368

[State 240,5]
type = ChangeState
trigger1 = movehit = 1
value = 261
ctrl = 1

[State 240, 5]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------

;-------------------------------------------------------------------------------

[Statedef 265]
type    = A
movetype= I
physics = N
anim = 7031
sprpriority = 30

[State 0, PalFXWiz]
type = PalFX
trigger1 = time =0
time = 999
add = 10,-200,0
mul = 256,256,256
sinadd = 0,8,0,10
invertall = 0
color = 0

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow

[State 200, End]
type = Destroyself
trigger1 = AnimTime = 0
;---------------------------------------------------------------------------
[StateDef 270]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 270
poweradd = 0


[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S200,6
volumescale = 999

[State 0, 1]
type = HitDef
trigger1 = time =0
attr = S, NA
damage = 20
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 10, 10
sparkno = -1;S6055
sparkxy = -10, -30
hitsound = S200,3
guard.sparkno = S7100
guardsound = S200,41
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -1,-9
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -1,-9
air.hittime = 12
Envshake.time = 10
fall = 1
air.fall  =1
fall.recovery = 0

[State 0, Helper]
type = Helper
triggerall = numhelper(285) = 0
trigger1 = movehit = 1
helpertype = normal ;player
name = "HitSpark"
ID = 285
stateno = 285
ownpal = 1
pos = 30,-45
ignorehitpause = 99
postype = p1    ;p2,front,back,left,right
size.xscale = .15
size.yscale = .15
[State 0, Helper]
type = Helper
triggerall = numhelper(286) = 0
trigger1 = movehit = 1
helpertype = normal ;player
name = "HitSpark2"
ID = 286
stateno = 286
ownpal = 1
pos = 30,-45
ignorehitpause = 99
postype = p1    ;p2,front,back,left,right
size.xscale = .15
size.yscale = .15
[State 0, Helper]
type = Helper
triggerall = numhelper(287) = 0
trigger1 = movehit = 1
helpertype = normal ;player
name = "HitSpark3"
ID = 287
stateno = 287
ownpal = 1
pos = 30,-45
ignorehitpause = 99
postype = p1    ;p2,front,back,left,right
size.xscale = .08
size.yscale = .08

[State 0, VelAdd]
type = VelAdd
trigger1 = animelem = 3
x = 3
y = 0

[State 0, Helper]
type = Helper
trigger1 = animelem = 5
helpertype = normal ;player
name = "AfterFX8"
ID = 271
stateno = 271
ownpal = 1
vfacing = -1
pos = 20,-25
ignorehitpause = 99
postype = p1    ;p2,front,back,left,right
size.xscale = .07
size.yscale = .07

[State 200, End]
type = ChangeState
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "up"
trigger2 = time = 12 && ailevel > 0 ;&& random < (ailevel * 100)
value = 275

[State 231, end]
type = ChangeState
trigger1 = Ailevel > 0
trigger1 = random<=500 && animtime=0
value = 232
ctrl = 1

[State 270, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;-------------------------------------------------------------------------------
          ;after1
[Statedef 271]
type    = A
movetype= I
physics = N
anim = 7302
sprpriority = 3
velset = 0,0

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = -10

[State 0, SprPriority]
type = SprPriority
trigger1 = 1
value = 5

[State 0, PalFXWiz]
type = PalFX
trigger1 = time =0
time = 999
add = 0,-200,0
mul = 256,256,256
sinadd = 0,8,0,10
invertall = 0
color = 0

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow

[State 200, End]
type = Destroyself
trigger1 = AnimTime = 0
;-0----------------------------------------------------------------------------
[StateDef 275]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 275
poweradd = 0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S200,11

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 6150
ID = 6150
angle = 90
vel = 0,-1
pos = 0,0
postype = p1  ;p2,front,back,left,right
scale = .25,.25
sprpriority = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 6200
ID = 6200
pos = 0,0
postype = p1  ;p2,front,back,left,right
scale = .5,.5
sprpriority = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,3
volumescale = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 3
value = S40,2
volume = 50


[State 0, Helper]
type = Helper
trigger1 = time = 0
trigger2 = time = 8
helpertype = normal ;player
name = "eff"
ID = 276
stateno = 276
pos = 5,-25
postype = p1    ;p2,front,back,left,right
size.xscale = .7
size.yscale = .8
ownpal= 1

[State 0, VelSet]
type = VelSet
trigger1 = time = [11,20]
x = 0.5
y = -0.5

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 6
x = 20
y = -70

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = time = 7
statetype = A       ;S,A,C,L
movetype = I        ;I,A,H
physics = A         ;A,C,S,N

[State 0, CtrlSet]
type = CtrlSet
triggerall = ailevel = 0
trigger1 = time = 10
value = 1

[State 200, End]
type = ChangeState
;Triggerall = movecontact
trigger1 = time = 14 && ailevel > 0 ;&& random < (ailevel * 100)
value = 600
;-------------------------------------------------------------------------------

[Statedef 276]
type    = A
movetype= I
physics = N
anim = 7200
sprpriority = 10

[State 0, PalFXWiz]
type = PalFX
trigger1 = time =0
time = 999
add = 0,-200,0
mul = 256,256,256
sinadd = 0,8,0,10
invertall = 0
color = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 7200
ID = 7200
pos = 0,0
ownpal= 1
trans = sub
postype = p1  ;p2,front,back,left,right
scale = .7,.8
sprpriority = 9

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow

[State 200, End]
type = Destroyself
trigger1 = AnimTime = 0
;-------------------------------------------------------------------------------

[Statedef 285]
type    = A
movetype= I
physics = N
anim = 7040
sprpriority = 30

[State 0, PalFXWiz]
type = PalFX
trigger1 = time =0
time = 999
add = 10,-200,30
mul = 256,256,256
sinadd = 0,8,0,10
invertall = 0
color = 0

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 1
value = random%360

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = var(1)
scale = 1+time*.1,1+time*.1

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow

[State 200, End]
type = Destroyself
trigger1 = AnimTime = 0
;-------------------------------------------------------------------------------
;-------------------------------------------------------------------------------
;Spark 2
[Statedef 286]
type    = A
movetype= I
physics = N
anim = 7000
sprpriority = 20

[State 0, PalFXWiz]
type = PalFX
trigger1 = time =0
time = 999
add = -30,-250,20
mul = 256,256,256
sinadd = 0,8,0,10
invertall = 0
color = 0

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 1
value = random%360

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = var(1)
scale = 1+time*.1,1+time*.1

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow

[State 200, End]
type = Destroyself
trigger1 = AnimTime = 0
;-------------------------------------------------------------------------------
;Spark 2
[Statedef 287]
type    = A
movetype= I
physics = N
anim = 7080
sprpriority = 10



[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = var(1)
scale = 1+time*.1,1+time*.1

[State 0, Trans]
type = Trans
trigger1 = 1
trans = sub

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow

[State 200, End]
type = Destroyself
trigger1 = AnimTime = 0
;-------------------------------------------------------------------------------

[Statedef 288]
type    = A
movetype= I
physics = N
anim = 7070
sprpriority = 30

[State 0, PalFXWiz]
type = PalFX
trigger1 = time =0
time = 999
add = 10,-200,30
mul = 256,256,256
sinadd = 0,8,0,10
invertall = 0
color = 0


[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 1
value = random%360

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = var(1)
scale = 1+time*.1,1+time*.1

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow

[State 200, End]
type = Destroyself
trigger1 = AnimTime = 0
;-------------------------------------------------------------------------------
;Spark 5
[Statedef 289]
type    = A
movetype= I
physics = N
anim = 7030
sprpriority = 20

[State 0, PalFXWiz]
type = PalFX
trigger1 = time =0
time = 999
add = -30,-250,20
mul = 256,256,256
sinadd = 0,8,0,10
invertall = 0
color = 0

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 1
value = random%360

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = var(1)
scale = 1+time*.1,1+time*.1

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow

[State 200, End]
type = Destroyself
trigger1 = AnimTime = 0
;-------------------------------------------------------------------------------
;---------------------------------------------------------------------------

[Statedef 290]
type    = S
movetype= A
physics = S
juggle  = 5
poweradd= 65
ctrl = 0
velset = 0,0
anim = 290

[State 0, Explod]
type = Explod
triggerall = numexplod(7350)=0 
trigger1 = movehit = 1
anim = 7350
ID = 7350
pos = 30,-40
postype = p1  ;p2,front,back,left,right
facing = 1
scale = .35,.35
sprpriority = 30
ignorehitpause = 99

[State 0, VelAdd]
type = VelAdd
trigger1 = animelem = 2
x = 8
y = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = movehit = 1
value = S200,5

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 3  
time = 8
ampl = -4

[State 0, AfterImage]
type = AfterImage
trigger1 = animelem = 1
time = 22
length = 20
palbright = 30,30,30
palcontrast = 120,120,220
paladd = 170,90,85
;palmul = .65,.65,.75
;imegap = 1
framegap = 4
trans = add;" ;"none","add1","sub"


[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 8
value = S200,11

[State 0, Explod]
type = Explod
triggerall = numexplod(7702)=0 
trigger1 = p2stateno = 297
anim = 7702
ID = 7702
angle = -90
pos = 0,0
postype = p2  ;p2,front,back,left,right
facing = 1
scale = .35,.35
sprpriority = 22

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 12
value = S52,0

[State 0, Explod]
type = Explod
trigger1 = animelem = 12
anim = 6000
ID = 6000
pos = 0,-5
postype = p1  ;p2,front,back,left,right
scale = .4,.4
sprpriority = 10

[State 0, Explod]
type = Explod
trigger1 = animelem = 2
anim = 6050
ID = 6050
pos = 0,-10
vel = -1,0
postype = p1  ;p2,front,back,left,right
scale = .25,.25
sprpriority = 10


[State 0, Helper]
type = Helper
triggerall = numhelper(292)=0 
trigger1 = p2stateno = 297
helpertype = normal ;player
name = "wallfx"
ID = 292
stateno = 292
ownpal = 1
pos =0,-20
ignorehitpause = 99
postype = p2    ;p2,front,back,left,right
size.xscale = 1
size.yscale = 1

[State 0, Helper]
type = Helper
trigger1 = animelem = 4
helpertype = normal ;player
name = "AfterFX1"
ID = 291
stateno = 291
ownpal = 1
vfacing = -1
pos =18,-36
ignorehitpause = 99
postype = p1    ;p2,front,back,left,right
size.xscale = .08
size.yscale = .08

[State 0, 1]
type = HitDef
trigger1 = time =0
attr = S, NA
damage = 20
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 10, 15
sparkno = -1;S6055
sparkxy = -10, -30
hitsound = S200,21
guard.sparkno = S7100
guardsound = S200,41
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -14,-6
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -14,-6
air.hittime = 12
Envshake.time = 5


[state 2700,4]
type = targetstate
trigger1 = time > 0 && movehit
value = 295
persistent = 0

[State 240, 5]
type = ChangeState
triggerall = movehit && ailevel > 0
trigger1 = AnimTime = 0
value = 505
ctrl = 1

[State 240, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;--------------------------

[Statedef 291]
type    = A
movetype= I
physics = N
anim = 7302
sprpriority = 3

[State 0, SprPriority]
type = SprPriority
trigger1 = 1
value = 4

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = -35

[State 0, PalFXWiz]
type = PalFX
trigger1 = time =0
time = 999
add = 0,-200,0
mul = 256,256,256
sinadd = 0,8,0,10
invertall = 0
color = 0

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow

[State 200, End]
type = Destroyself
trigger1 = AnimTime = 0
;--------------------------

[Statedef 292]
type    = A
movetype= I
physics = N
anim = 9999
sprpriority = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S200,20

[State 0, SprPriority]
type = SprPriority
trigger1 = 1
value = 4

[State 0, Explod]
type = Explod
triggerall = numexplod(7700)=0 
trigger1 = p2stateno = 297
anim = 7700
ID = 7700
angle = -90
pos = 0,-35
postype = p2  ;p2,front,back,left,right
facing = 1
scale = .3,.35
sprpriority = 20

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow

[State 200, End]
type = Destroyself
trigger1 = Time = 50
;----------------------------------------------
[Statedef 295]
type    = A
movetype= H
physics = N
velset = 0,0

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
value = 5000

[State 215, Æ’XÆ’eÂ[Æ’gâ€¢ÃÂX]
type = ChangeState
trigger1 = HitShakeOver = 1
value = 296



;---------------------------------------------
[Statedef 296]
type    = A
movetype = H
physics = N

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
value = 5000

[State 216, ÂHâ€šÃ§â€šÂ¢â€™â€ â€šÃŒâ€˜Â¬â€œx]
type = HitVelSet
trigger1 = Time = 0
x = 1
y = 1

[State 216, Æ’XÆ’NÆ’ÂÂ[Æ’â€¹]
type = ScreenBound
;triggerall = Pos y < -15
trigger1 = BackEdgeBodyDist < 65
trigger2 = FrontEdgeBodyDist < 65
value = 1
movecamera = 0,1

[State 216, ÂHâ€šÃ§â€šÂ¢â€™â€ â€šÃŒâ€˜Â¬â€œx]
type = Veladd
trigger1 = Time > 0
y = .45

[State 216, Æ’XÆ’eÂ[Æ’gâ€¢ÃÂX];â€¢Ã‡â€šÃ‰Å’Æ’â€œÃ‹â€šÂ·â€šÃ©Æ’XÆ’eÂ[Æ’gâ€šÃ–
type = ChangeState
;triggerall = Pos y < -15
trigger1 = BackEdgeBodyDist <= 0
trigger2 = FrontEdgeBodyDist <= 0
value = 297

[State 216, â€˜Å Å½Ã¨Æ’XÆ’eÂ[Æ’gâ€šÃ‰â€“ÃŸâ€šÂ·]
type = SelfState
trigger1 = (Vel y > 0) && (Pos y >= 0)
value = 5100


;------------------------------------------
[Statedef 297]
type    = A
movetype= H
physics = N

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
value = 5000

[State 0, VelSet]
type = Velset
trigger1 = time = 0
x = 0
y = -0

[State 0, VelSet]
type = Veladd
trigger1 = time = 1
x = 2
y = -6


[State 217, ÂUâ€šÃ¨â€¢Ã”â€šÃ©]
type = Turn
trigger1 = (Time = 0) && (FrontEdgeBodyDist < 30)

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 20
freq = 60
ampl = -4
phase = 90

[state 217,0]
type = lifeadd
trigger1 = time = 0
value = -50

[State 217, Ë†ÃŠâ€™uÅ’Ã…â€™Ã¨]
type = PosFreeze
trigger1 = 1
x = 1
y = 1

[State 217, Æ’XÆ’NÆ’ÂÂ[Æ’â€¹]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0,1

[State 217, â€°Â¹â€šÃ°â€“Ã‚â€šÃ§â€šÂ·]
type = PlaySnd
trigger1 = Time = 0
value = F7,0

[State 217, Æ’XÆ’eÂ[Æ’gâ€¢ÃÂX]
type = ChangeState
trigger1 = Time = 5
value = 298


;-----------------------------------------------------
[Statedef 298]
type    = A
movetype= H
physics = N

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
value = 5000

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time >0
value = 30
[State 0, AngleDraw]
type = AngleDraw
trigger1 = time >10
value = 60
[State 0, AngleDraw]
type = AngleDraw
trigger1 = time >20
value = 90

[State 217, Æ’XÆ’NÆ’ÂÂ[Æ’â€¹]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0,1

[State 218, ÂUâ€šÃ¨â€¢Ã”â€šÃ©]
type = null;Turn
trigger1 = (Time = 0) && (BackEdgeDist < 30)

[State 218, â€˜Â¬â€œxâ€°ÃÅ½Z];Âdâ€”Ã
type = VelAdd
trigger1 = 1
y = 0.35

[State 218, â€˜Å Å½Ã¨Æ’XÆ’eÂ[Æ’gâ€šÃ‰â€“ÃŸâ€šÂ·]
type = SelfState
trigger1 = (Vel y > 0) && (Pos y >= 0)
value = 5100

;---------------------------------------------------------------------------

[Statedef 299]
type    = S
movetype= A
physics = S
juggle  = 5
poweradd= 65
ctrl = 0
velset = 0,0
anim = 290

[State 0, Explod]
type = Explod
triggerall = numexplod(7350)=0 
trigger1 = movehit = 1
anim = 7350
ID = 7350
pos = 30,-40
postype = p1  ;p2,front,back,left,right
facing = 1
scale = .35,.35
sprpriority = 30
ignorehitpause = 99

[State 0, VelAdd]
type = VelAdd
trigger1 = animelem = 2
x = 8
y = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = movehit = 1
value = S200,5

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 3  
time = 8
ampl = -4

[State 0, AfterImage]
type = AfterImage
trigger1 = animelem = 1
time = 22
length = 20
palbright = 30,30,30
palcontrast = 120,120,220
paladd = 170,90,85
;palmul = .65,.65,.75
;imegap = 1
framegap = 4
trans = add;" ;"none","add1","sub"


[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 8
value = S200,11

[State 0, Explod]
type = Explod
triggerall = numexplod(7702)=0 
trigger1 = p2stateno = 297
anim = 7702
ID = 7702
angle = -90
pos = 0,0
postype = p2  ;p2,front,back,left,right
facing = 1
scale = .35,.35
sprpriority = 22

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 12
value = S52,0

[State 0, Explod]
type = Explod
trigger1 = animelem = 12
anim = 6000
ID = 6000
pos = 0,-5
postype = p1  ;p2,front,back,left,right
scale = .4,.4
sprpriority = 10

[State 0, Explod]
type = Explod
trigger1 = animelem = 2
anim = 6050
ID = 6050
pos = 0,-10
vel = -1,0
postype = p1  ;p2,front,back,left,right
scale = .25,.25
sprpriority = 10


[State 0, Helper]
type = Helper
triggerall = numhelper(292)=0 
trigger1 = p2stateno = 297
helpertype = normal ;player
name = "wallfx"
ID = 292
stateno = 292
ownpal = 1
pos =0,-20
ignorehitpause = 99
postype = p2    ;p2,front,back,left,right
size.xscale = 1
size.yscale = 1

[State 0, Helper]
type = Helper
trigger1 = animelem = 4
helpertype = normal ;player
name = "AfterFX1"
ID = 291
stateno = 291
ownpal = 1
vfacing = -1
pos =18,-36
ignorehitpause = 99
postype = p1    ;p2,front,back,left,right
size.xscale = .08
size.yscale = .08

[State 0, 1]
type = HitDef
trigger1 = time =0
attr = S, NA
damage = 20
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 10, 15
sparkno = -1;S6055
sparkxy = -10, -30
hitsound = S200,21
guard.sparkno = S7100
guardsound = S200,41
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -14,-6
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -14,-6
air.hittime = 12
Envshake.time = 5


[state 2700,4]
type = targetstate
trigger1 = time > 0 && movehit
value = 295
persistent = 0


[State 240, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;----------------------------------------------------------------------
[StateDef 300]
type = S
movetype= A
physics = S
juggle  = 1
ctrl = 0
anim = 300
poweradd = 20
sprpriority = 2


[State 0, Helper]
type = Helper
trigger1 = animelem = 4
helpertype = normal ;player
name = "AfterFX7"
ID = 251
stateno = 251
ownpal = 1
vfacing = -1
pos = 55,-34
ignorehitpause = 99
postype = p1    ;p2,front,back,left,right
size.xscale = .2
size.yscale = .4

[State 5000]
type = PlaySnd
trigger1 = random<=500 && time=0
value = S500,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S200,0

[State 0, Helper]
type = Helper
triggerall = numhelper(301) = 0
trigger1 = movehit = 1
helpertype = normal ;player
name = "HitSpark300"
ID = 301
stateno = 301
ownpal = 1
pos = -20,-30
ignorehitpause = 99
postype = p2    ;p2,front,back,left,right
size.xscale = .35
size.yscale = .35

[State 0, 1]
type = HitDef
trigger1 = time =0
attr = S, NA
damage = 20
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 16
sparkno = -1;S6055
sparkxy = -10, -30
hitsound = S200,2
guard.sparkno = S7100
guardsound = S200,40
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -4,0
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -2,0
air.hittime = 12

[State 0, MakeDust]
type = MakeDust
trigger1 = time <= 23
pos = 3,0
spacing = 1

[State 0, VelSet]
type = Veladd
trigger1 = animelem = 2
x = 12
y = 0


[State 0, EnvShake]
type = EnvShake
trigger1 = movehit = 1
time = 5
freq = 30
ampl =-2
phase = 45

[State 271, end]
type = ChangeState
triggerall = movehit
trigger1 = command = "a"
value = 210
ctrl = 1
[State 271, end]
type = ChangeState
triggerall = movehit
trigger1 = command = "b"
value = 230
ctrl = 1
[State 271, end]
type = ChangeState
triggerall = movehit
trigger1 = command = "c"
value = 260
ctrl = 1


[State 231, end]
type = ChangeState
trigger1 = Ailevel > 0
triggerall = movehit
trigger1 = time = 15
value = 210
ctrl = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime= 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------

[Statedef 301]
type    = A
movetype= I
physics = N
anim = 7000
sprpriority = 30

[State 0, PalFXWiz]
type = PalFX
trigger1 = time =0
time = 999
add = 10,-200,30
mul = 256,256,256
sinadd = 0,8,0,10
invertall = 0
color = 0

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 1
value = random%360

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = var(1)
scale = 1+time*.1,1+time*.1

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow

[State 200, End]
type = Destroyself
trigger1 = AnimTime = 0
;---------------------------------------------------------
 [StateDef 310]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 310
poweradd = -50
sprpriority = 2

[State 0, Explod]
type = Explod
trigger1 = animelem = 4
anim = 7200
ID = 7200
pos = -10,-10
vfacing = -1
postype = p1  ;p2,front,back,left,right
scale = .25,.25
sprpriority = 20

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S200,12

[State 0, Helper]
type = Helper
trigger1 = animelem = 4
helpertype = normal ;player
name = "Soap"
ID = 315
stateno = 315
pos = 0,-5
postype = p1    ;p2,front,back,left,right
size.xscale = 1
size.yscale = 1

[State 310, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------
[StateDef 315]
type = S
movetype= A
juggle  = 1
ctrl = 0
anim = 6002
poweradd = 0
sprpriority = 2

[State 0, EnvShake]
type = EnvShake
trigger1 = movehit = 1
time = 10
freq = 60
ampl = -4
phase = 90

[State 0, Explod]
type = Explod
trigger1 = movehit = 1
anim = 6000
ID = 6000
pos = 0,5
postype = p1  ;p2,front,back,left,right
scale = .4,.6
sprpriority = 0

[State 0, 1]
type = HitDef
trigger1 = time =0
attr = S, NA
damage = 20
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 16
sparkno = -1;S6055
sparkxy = -10, -30
hitsound = S200,13
guard.sparkno = S7100
guardsound = S200,40
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -4,0
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -2,0
air.hittime = 12
fall = 1
air.fall = 1

[state 2700,4]
type = targetstate
trigger1 = time > 1 && movehit
value = 316
persistent = 0


[State 0, Explod]
type = Explod
trigger1 = timemod =2,0  && time <= 60
anim = 6003
ID = 6003
pos = 0,5
postype = p1  ;p2,front,back,left,right
scale = 1.2,.5
sprpriority = 0

[State 0, VelSet]
type = VelSet
trigger1 = time = [0,20]
x = 3
[State 0, VelSet]
type = VelSet
trigger1 = time = [20,40]
x = 2
[State 0, VelSet]
type = VelSet
trigger1 = time = [40,60]
x = 1
[State 0, VelSet]
type = VelSet
trigger1 = time = [60,100]
x = 0
[State 0, Explod]
type = Explod
trigger1 = timemod =10,0  && time >= 0
anim = 6800
ID = 6800
vel = 0,-.5
pos = -10+(random%20),0-(random%5)
postype = p1  ;p2,front,back,left,right
scale = .07,.07
sprpriority = 10

[State 0, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0
;------------------------------
[Statedef 316]
type    = S
movetype= H
physics = N
velset =0,0

[State 0, LifeAdd]
type = LifeAdd
trigger1 = time = 0
value = -30
kill = 1

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
value = 5070

[State 216, ï¿½ï¿½ï¿½ï¿½ï¿½Xï¿½eï¿½[ï¿½gï¿½É–ß‚ï¿½]
type = SelfState
trigger1 = time = 0
value = 5050
ctrl = 1
;---------------------------
;---------------------------------------------------------------------------

[Statedef 320]
type    = S
movetype= A
physics = S
juggle  = 3
poweradd= -65
ctrl = 0
velset = 0,0
anim = 320

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 10
value = S500,16

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
trigger2 = animelem = 4
trigger3 = animelem = 5
trigger4 = animelem = 6
value = S200,0

[State 0, Helper]
type = Helper
trigger1 = animelem = 7
helpertype = normal ;player
name = "Fire"
ID = 325
stateno = 325
pos = 10,5
postype = p1    ;p2,front,back,left,right
size.xscale = .45
size.yscale = .45

[State 240, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------------
[StateDef 325]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 8500
poweradd = 0
sprpriority = 10

[State 0, Explod]
type = Explod
trigger1 = timemod =6,0  && time >= 0
anim = 6201
ID = 6201
pos = 6,-18
postype = p1  ;p2,front,back,left,right
scale = .1,.1
sprpriority = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S200,14

[State 0, Explod]
type = Explod
trigger1 = movehit = 1
anim = 8600
ID = 8600
pos = 20,-25
postype = p2  ;p2,front,back,left,right
scale = .1,.1
sprpriority = 20

[State 0, Explod]
type = Explod
trigger1 = timemod =6,0  && time >= 0
anim = 7601
ID = 7601
pos = -10+(random%20),-10
vel = 0,-2
postype = p1  ;p2,front,back,left,right
scale = .2,.2
sprpriority = 15

[State 0, 1]
type = HitDef
trigger1 = timemod =10,0  && time >= 0
attr = A, HP
damage = 5
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 0
sparkno = -1;S6055
sparkxy = -10, -30
hitsound = -1
guard.sparkno = S7100
guardsound = -1
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -6,0
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -6,0
air.hittime = 12

[State 0, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0

;-------------------------------------------------------------------------------
[StateDef 330]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 330
poweradd = -80
sprpriority = 2

[State 0, Explod]
type = Explod
trigger1 = animelem = 3
anim = 7200
ID = 7200
pos = 22,-50
postype = p1  ;p2,front,back,left,right
scale = .2,.2
sprpriority = 20

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S200,1

[State 0, Helper]
type = Helper
trigger1 = animelem = 3
helpertype = normal ;player
name = "Dynamite"
ID = 335
stateno = 335
pos = 20,-34
postype = p1    ;p2,front,back,left,right
size.xscale = .25
size.yscale = .25

[State 330, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[StateDef 335]
type = A
movetype= I
physics = A
juggle  = 1
velset = 0,0
ctrl = 0
anim = 8700
poweradd = 0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod =10,0  && time >= 0
value = S201,11

[State Angle]
type = Angledraw
trigger1 = 1
value = time*20

[State 0, VelAdd]
type = VelAdd
trigger1 = time = 0
x = 1
y = -8

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time = 200

;---------------------------------------------------------------------------
[StateDef 336]
type = A
movetype= I
physics = A
juggle  = 1
velset = 0,0
ctrl = 0
anim = 8700
poweradd = 0
sprpriority = 2

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 6200
ID = 6200
pos = 10,-22
postype = p1  ;p2,front,back,left,right
scale = .15,.15
sprpriority = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S201,12

[State Angle]
type = Angledraw
trigger1 = 1
value = time*20

[State 0, VelAdd]
type = VelAdd
trigger1 = time = 0
x = 1
y = -5

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time = 200

;---------------------------------------------------------------------------
[StateDef 337]
type = S
movetype= I
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 8700
poweradd = 0
sprpriority = 2

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 6200
ID = 6200
pos = 10,-22
postype = p1  ;p2,front,back,left,right
scale = .15,.15
sprpriority = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S201,12

[State 0, Helper]
type = Helper
trigger1 = time = 49
helpertype = normal ;player
name = "Explod"
ID =  338
stateno = 338
pos = 0,0
postype = p1    ;p2,front,back,left,right
size.xscale = .37
size.yscale = .37

[State 52, 1]
type = VelSet
trigger1 = Time = 0
y = 0

[State 52, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time = 50
;-----------------------
[StateDef 338]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 8800
poweradd = 0
sprpriority = 999

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 15
freq = 100
ampl = -10
phase = 160

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S200,10

[State 0, Explod]
type = Explod
trigger1 = movehit = 1
anim = 8600
ID = 8600
pos = 20,-25
postype = p2  ;p2,front,back,left,right
scale = .1,.1
sprpriority = 20

[State 0, 1]
type = HitDef
trigger1 = time = 0
attr = A, HP
damage = 60
getpower = 0,0
animtype = Light
guardflag = MA
hitflag = MAFD
priority = 3, Hit
pausetime = 0, 0
sparkno = -1;S6055
sparkxy = -10, -30
hitsound = -1
guard.sparkno = S7100
guardsound = -1
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -6,-6
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -6,-6
air.hittime = 12
fall = 1
air.fall = 1

[State 0, Helper]
type = Helper
trigger1 = movehit = 1
helpertype = normal
name ="fire2"
ID = 2511
stateno = 2511
pos = 0,-0
postype = p2
keyctrl = 0
ownpal = 0
size.xscale = 1
size.yscale = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0
;-------AI STATE------------------------------------------------------------------------
[StateDef 340]
type    = A
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 0
poweradd = 0
sprpriority = 2

[State 400, end]
type = ChangeState
trigger1 = Time = 0
value = 341+(random%3)
ctrl = 1
;-------------------------------------------------------------------------------
[StateDef 341]
type    = A
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 0
poweradd = 0
sprpriority = 2

[State 400, end]
type = ChangeState
triggerall = numhelper (315) > 0
trigger1 = Time = 0
value = 0
ctrl = 1

[State 400, end]
type = ChangeState
triggerall = numhelper (315) = 0
trigger1 = Time = 0
value = 310
ctrl = 1
;-------------------------------------------------------------------------------
[StateDef 342]
type    = A
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 0
poweradd = 0
sprpriority = 2

[State 400, end]
type = ChangeState
triggerall = numhelper (325) > 0
trigger1 = Time = 0
value = 0
ctrl = 1

[State 400, end]
type = ChangeState
triggerall = numhelper (325) = 0
trigger1 = Time = 0
value = 320
ctrl = 1
;-------------------------------------------------------------------------------
[StateDef 343]
type    = A
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 0
poweradd = 0
sprpriority = 2

[State 400, end]
type = ChangeState
triggerall = numhelper (335) > 0
triggerall = numhelper (335) > 0
triggerall = numhelper (335) > 0
triggerall = numhelper (335) > 0
trigger1 = Time = 0
value = 0
ctrl = 1

[State 400, end]
type = ChangeState
triggerall = numhelper (335) = 0
triggerall = numhelper (335) = 0
triggerall = numhelper (335) = 0
triggerall = numhelper (335) = 0
trigger1 = Time = 0
value = 330
ctrl = 1

;---------------------------------------------------------------------------

[Statedef 350]
type    = S
movetype= A
physics = S
juggle  = 3
poweradd= 22
ctrl = 0
velset = 0,0
anim = 350

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 6 
time = 15
Ampl = -4
phase = 90

[State 0, Explod]
type = Explod
trigger1 = animelem = 6
anim = 7702
ID = 7702
pos = 10,-5
postype = p1  ;p2,front,back,left,right
scale = .2,.2
sprpriority = 10
ownpal = 1
[State 0, Explod]
type = Explod
trigger1 = animelem = 6
anim = 7701
ID = 7701
pos = 10,5
postype = p1  ;p2,front,back,left,right
scale = .2,.15
sprpriority = 0
ownpal = 1

[State 0, SprPriority]
type = SprPriority
trigger1 = 1
value = 2
[State 0, Explod]
type = Explod
trigger1 = animelem = 6
anim = 6200
ID = 6200
pos = 10,5
postype = p1  ;p2,front,back,left,right
scale = .4,.3
sprpriority = 3
ownpal = 1
[State 0, Explod]
type = Explod
trigger1 = animelem = 6
anim = 6100
ID = 6100
pos = 20,5
postype = p1  ;p2,front,back,left,right
scale = .15,.1
sprpriority = 1
ownpal = 1

[State 0, Explod]
type = Explod
trigger1 = timemod =1,0  && time = [10,25]
anim = 7501
ID = 7501
pos = 0-(random%10),-45+(random%40)
postype = p1  ;p2,front,back,left,right
scale = .05,.05
sprpriority = 10
ownpal = 1

[State 5000]
type = PlaySnd
trigger1 = time=0
value = S500,4
volumescale = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5
value = S200,6

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 6
value = S200,10

[State 0, 1]
type = HitDef
trigger1 = time =0
attr = A, NA
damage = 20
animtype = Light
guardflag = MA
hitflag = MAFD
priority = 3, Hit
pausetime = 0, 5
sparkno = -1;S6055
sparkxy = -10, -30
hitsound = S200,5
guard.sparkno = S7100
guardsound = S200,41
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0,-6
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = 0,-6
air.hittime = 12
fall = 1
air.fall  = 1


[State 0, Helper]
type = Helper
triggerall = numhelper(289) = 0
trigger1 = movehit = 1
helpertype = normal ;player
name = "HitSpark"
ID = 289
stateno = 289
ownpal = 1
pos = 0,-5
ignorehitpause = 99
postype = p2    ;p2,front,back,left,right
size.xscale = .05
size.yscale = .05
[State 0, Helper]
type = Helper
triggerall = numhelper(288) = 0
trigger1 = movehit = 1
helpertype = normal ;player
name = "HitSpark2"
ID = 288
stateno = 288
ownpal = 1
pos = 0,-5
ignorehitpause = 99
postype = p2    ;p2,front,back,left,right
size.xscale = .2
size.yscale = .2
[State 0, Helper]
type = Helper
triggerall = numhelper(287) = 0
trigger1 = movehit = 1
helpertype = normal ;player
name = "HitSpark3"
ID = 287
stateno = 287
ownpal = 1
pos = 0,-5
ignorehitpause = 99
postype = p2    ;p2,front,back,left,right
size.xscale = .08
size.yscale = .08

[State 230, end]
type = ChangeState
triggerall = ailevel > 0 && random < 400
trigger1 = movehit && time = 0
value = 299
ctrl = 1
[State 230, end]
type = ChangeState
triggerall = ailevel > 0 && random > 400
trigger1 = movehit && time = 35
value = 260
ctrl = 1

[State 0, CtrlSet]
type = CtrlSet
triggerall = ailevel = 0
trigger1 = time > 30 
value = 1

[State 230, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------

[StateDef 400]
type    = A
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 400
poweradd = 0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S500,10

[State 0, Aura]
type = Helper
trigger1 = time = 14
helpertype = normal
name = "Aura"
ID = 550
stateno = 550
pos = 0,-30
postype = p1
ownpal = 1
size.xscale = .4
size.yscale = .8;*Helper(999999),Fvar(16)

[State 0, PowerAdd]
type = PowerAdd
trigger1 = time >= 14
value = 10

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 14
time = 10
ampl = -10

[State 400, end]
type = ChangeState
triggerall = AIlevel > 0
trigger2 = power = 3000
trigger1 = p2bodydist x  <100
value = 0
ctrl = 1

[State 0, RemoveExplod]
type = RemoveExplod
triggerall = AIlevel > 0
trigger2 = power = 3000
trigger1 = p2bodydist x  <100
id = 6300

[State 0, RemoveExplod]
type = RemoveExplod
triggerall = AIlevel = 0
trigger1 = command != "hold_s"
id = 6300

[State 400, end]
type = ChangeState
triggerall = AIlevel = 0
trigger2 = power = 3000
trigger1 = command != "hold_s"
;trigger1 = animTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------

[StateDef 401]
type    = A
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 0
poweradd = 0
sprpriority = 2

[State 400, end]
type = ChangeState
trigger1 = animtime = 0
;trigger1 = animTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
[StateDef 410]
type = C
movetype= A
physics = C
juggle  = 1
velset = 0,0
ctrl = 0
anim = 410
poweradd = 0


[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S200,1
volumescale = 999

[State 0, 1]
type = HitDef
trigger1 = time =0
attr = S, NA
damage = 20
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 4, 6
sparkno = -1;S6055
sparkxy = -10, -30
hitsound = S200,2
guard.sparkno = S7100
guardsound = S200,40
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -2,0
air.hittime = 12

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = unguardable


[State 0, Helper]
type = Helper
triggerall = numhelper(285) = 0
trigger1 = movehit = 1
helpertype = normal ;player
name = "HitSpark"
ID = 285
stateno = 285
ownpal = 1
pos = 0,-20
ignorehitpause = 99
postype = p2    ;p2,front,back,left,right
size.xscale = .15
size.yscale = .15
[State 0, Helper]
type = Helper
triggerall = numhelper(286) = 0
trigger1 = movehit = 1
helpertype = normal ;player
name = "HitSpark2"
ID = 286
stateno = 286
ownpal = 1
pos = 0,-20
ignorehitpause = 99
postype = p2   ;p2,front,back,left,right
size.xscale = .15
size.yscale = .15
[State 0, Helper]
type = Helper
triggerall = numhelper(287) = 0
trigger1 = movehit = 1
helpertype = normal ;player
name = "HitSpark3"
ID = 287
stateno = 287
ownpal = 1
pos = 0,-20
ignorehitpause = 99
postype = p2    ;p2,front,back,left,right
size.xscale = .08
size.yscale = .08

[State 0, Helper]
type = Helper
trigger1 = animelem = 5
helpertype = normal ;player
name = "AfterFX8"
ID =411
stateno = 411
ownpal = 1
vfacing = -1
pos = 40,-22
ignorehitpause = 99
postype = p1    ;p2,front,back,left,right
size.xscale = .07
size.yscale = .07

[State 200, End]
type = ChangeState
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "a"
trigger2 = time = 17 && ailevel > 0 ;&& random < (ailevel * 100)
value = 200

[State 270, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;-------------------------------------------------------------------------------
          ;after1
[Statedef 411]
type    = A
movetype= I
physics = N
anim = 7302
sprpriority = 3
velset = 0,0

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = -95

[State 0, SprPriority]
type = SprPriority
trigger1 = 1
value = 5

[State 0, PalFXWiz]
type = PalFX
trigger1 = time =0
time = 999
add = 0,-200,0
mul = 256,256,256
sinadd = 0,8,0,10
invertall = 0
color = 0

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow

[State 200, End]
type = Destroyself
trigger1 = AnimTime = 0
;---------------------------------------------------------------------------
; Crouching Medium Kick
; CNS difficulty: easy
[Statedef 440]
type    = C
movetype= A
physics = C
juggle  = 5
poweradd= 22
ctrl = 0
anim = 440

[State 440, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1
;--------------------------------------------------------------------------
;Dodge
;---------------------------------------------------------------------------
[StateDef 450]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 450
poweradd = -100
sprpriority = 2

[State 340, end]
type = ChangeState
;triggerall = animelem = 2
trigger1 = p2movetype = A
trigger1 = p2bodydist x < 60
value = 451
ctrl = 1
[State 340, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;counter attack
[Statedef 451]
type    = S
movetype= A
physics = S
juggle  = 3
poweradd= 22
ctrl = 0
velset = -2,0
anim = 451

[State 45]
type = AfterImage
trigger1 = time=0
time =8
palbright = 255,155,305
palcontrast = 150,150,300
length = 10
timegap = 1
framegap =1
trans = add

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time = 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
;value2 = S,NA
time = 18

[State 0, SprPriority]
type = SprPriority
trigger1 = 1
value = 99


[State 0, VelAdd]
type = VelAdd
trigger1 = animelem = 7
x = 5
y = 0

[State 0, SprPriority]
type = SprPriority
trigger1 = 1
value = 2

[State 0, Helper]
type = Helper
trigger1 = animelem = 7
helpertype = normal ;player
name = "AfterFX1"
ID = 201
stateno = 201
ownpal = 1
vfacing = -1
pos = 35,-36
ignorehitpause = 99
postype = p1    ;p2,front,back,left,right
size.xscale = .05
size.yscale = .05

[State 0, Explod]
type = Explod
trigger1 = animelem = 7
anim = 9200
ID = 9200
pos = -10,-5
postype = p1  ;p2,front,back,left,right
scale = .15,.15
sprpriority = 1

[State 0, Explod]
type = Explod
trigger1 = timemod =1,0  && time = [15,25]
anim = 7501
ID = 7501
pos = -10-(random%10),-45+(random%40)
postype = p1  ;p2,front,back,left,right
scale = .05,.05
sprpriority = 10

[State 5000]
type = PlaySnd
trigger1 = time=10
value = S500,0
volumescale = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 7
value = S200,6

[State 0, 1]
type = HitDef
trigger1 = time =0
attr = S, NA
damage = 20
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 10, 15
sparkno = -1;S6055
sparkxy = -10, -30
hitsound = S200,3
guard.sparkno = S7100
guardsound = S200,41
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -4
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -2,0
air.hittime = 12
Envshake.time = 5

[State 0, Helper]
type = Helper
triggerall = numhelper(289) = 0
trigger1 = movehit = 1
helpertype = normal ;player
name = "HitSpark"
ID = 289
stateno = 289
ownpal = 1
pos = 30,-35
ignorehitpause = 99
postype = p1    ;p2,front,back,left,right
size.xscale = .05
size.yscale = .05
[State 0, Helper]
type = Helper
triggerall = numhelper(288) = 0
trigger1 = movehit = 1
helpertype = normal ;player
name = "HitSpark2"
ID = 288
stateno = 288
ownpal = 1
pos = 30,-35
ignorehitpause = 99
postype = p1    ;p2,front,back,left,right
size.xscale = .2
size.yscale = .2
[State 0, Helper]
type = Helper
triggerall = numhelper(287) = 0
trigger1 = movehit = 1
helpertype = normal ;player
name = "HitSpark3"
ID = 287
stateno = 287
ownpal = 1
pos = 30,-35
ignorehitpause = 99
postype = p1    ;p2,front,back,left,right
size.xscale = .08
size.yscale = .08

[State 231, end]
type = ChangeState
triggerall = movehit
Triggerall = AIlevel > 0
trigger1 = time > 19
value = 240
ctrl = 1

[State 230, end]
type = ChangeState
triggerall = movehit
triggerall = command = "holddown"
trigger1 = command = "a"
value = 270
ctrl = 1
[State 230, end]
type = ChangeState
triggerall = movehit
triggerall = command = "holddown"
trigger1 = command = "c"
value = 290
ctrl = 1

[State 230, end]
type = ChangeState
triggerall = movehit
trigger1 = command = "a"
value = 210
ctrl = 1

[State 230, end]
type = ChangeState
triggerall = movehit
trigger1 = command = "b"
value = 250
ctrl = 1


[State 231, end]
type = ChangeState
triggerall = moveguarded
trigger1 = Ailevel > 0
trigger1 = random<=500 && animtime=0
value = 232
ctrl = 1


[State 200, 6]
type = ChangeState
triggerall = AIlevel > 0
trigger1 = random<=500 && animtime=0
value = 105
ctrl = 1

[State 230, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Teleport
[Statedef 500]
type    = S
movetype= A
physics = S
juggle  = 7
poweradd= -500
ctrl = 0
anim = 500

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0 
value = S200,19

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 6
time =4
freq = 60


[State 0, Explod]
type = Explod
trigger1 = animelem = 2
trigger2 = animelem = 5
anim = 6000
ID = 6000
ownpal = 1
pos = 0,-5
postype = p1  ;p2,front,back,left,right
scale = .45,.45
sprpriority = 6

[State 0, Explod]
type = Explod
trigger1 = time = [0,4]
anim = 7501
ID = 7501
vel = 3,0
pos = 10-(random%10),-35-(random%20)
postype = p1  ;p2,front,back,left,right
scale = .1,.05
sprpriority = 10
[State 0, Explod]
type = Explod
trigger1 = time = [0,4]
anim = 7501
ID = 7501
vel = 3,0
pos = 10-(random%10),-25+(random%20)
postype = p1  ;p2,front,back,left,right
scale = .1,.05
sprpriority = 10

[State 0, Explod]
type = Explod
trigger1 = time = [8,16]
anim = 7501
ID = 7501
vel = -1,0
pos = 0-(random%10),-45+(random%40)
postype = p1  ;p2,front,back,left,right
scale = .05,.05
sprpriority = 10

[State 1200]
type = PosAdd
trigger1 = time =6
x = p2bodydist x+50;,60
y = 0

[State 0, Turn]
type = Turn
trigger1 = time = 7

[State 0, CtrlSet]
type = CtrlSet
trigger1 = time = 8 
value = 1

[State 450, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;Teleport AI
[Statedef 505]
type    = S
movetype= A
physics = S
juggle  = 7
poweradd= -500
ctrl = 0
anim = 500

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0 
value = S200,19

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 6
time =4
freq = 60


[State 0, Explod]
type = Explod
trigger1 = animelem = 2
trigger2 = animelem = 5
anim = 6000
ID = 6000
ownpal = 1
pos = 0,-5
postype = p1  ;p2,front,back,left,right
scale = .45,.45
sprpriority = 6

[State 0, Explod]
type = Explod
trigger1 = time = [0,4]
anim = 7501
ID = 7501
vel = 3,0
pos = 10-(random%10),-35-(random%20)
postype = p1  ;p2,front,back,left,right
scale = .1,.05
sprpriority = 10
[State 0, Explod]
type = Explod
trigger1 = time = [0,4]
anim = 7501
ID = 7501
vel = 3,0
pos = 10-(random%10),-25+(random%20)
postype = p1  ;p2,front,back,left,right
scale = .1,.05
sprpriority = 10

[State 0, Explod]
type = Explod
trigger1 = time = [8,16]
anim = 7501
ID = 7501
vel = -1,0
pos = 0-(random%10),-45+(random%40)
postype = p1  ;p2,front,back,left,right
scale = .05,.05
sprpriority = 10

[State 1200]
type = PosAdd
trigger1 = time =6
x = p2bodydist x+50;,60
y = 0

[State 0, Turn]
type = Turn
trigger1 = time = 7

[State 450, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 350
ctrl = 1
;-------------------------------------------------------------------------------
; Aura - Start
[Statedef 550]
type    = A
movetype= I
physics = N
anim = 6300
sprpriority = 3

[state 0]
type=playerpush
trigger1=1
value=1
ignorehitpause=1

[State 0, PalFXWiz]
type = PalFX
trigger1 = time =0
time = 999
add = 0,-200,20
mul = 256,256,256
sinadd = 0,8,0,10
invertall = 0
color = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 6150
ID = 6150
angle = 75
vel = 0,-1
pos = 0,20
postype = p1  ;p2,front,back,left,right
scale = .2,.2
sprpriority = 40

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 230,256

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow

[State 0, Explod]
type = Explod
trigger1 = timemod = 15,0
anim = 6450
ID =6450
pos = -0,23
ownpal = 0
postype = p1  ;p2,front,back,left,right
scale = .4,.3
sprpriority = 10
ownpal = 1
bindtime=-1

[State 0, Explod]
type = Explod
trigger1 = timemod = 15,0
anim = 6200
ID =6200
pos = -0,35
ownpal = 0
postype = p1  ;p2,front,back,left,right
scale = .35,.3
sprpriority = 0
ownpal = 1
bindtime=-1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S300,1
volume = 50

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 100,0
value = S300,0
volume = 50
channel = 1

[State 0, EnvShake]
type = EnvShake
trigger1 = time%5 && time > 10
time = 5
ampl = -4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,5
volumescale = 999
channel = 2

[State 200, End]
type = ChangeState
trigger1 = root,stateno != 400
value = 555
;-------------------------------------------------------------------------------
; Aura - Fin
[Statedef 555]
type    = A
movetype= I
physics = N
sprpriority = 3
anim = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time=0
value = S300,2
volumescale =999



[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 8
ampl = -10

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 6100
ID =6100
pos = 0,40
ownpal = 0
postype = p1  ;p2,front,back,left,right
scale = .2,.1
sprpriority = 0
ownpal = 1
bindtime=-1

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 6250
ID = 6250
pos = -5,0
postype = p1  ;p2,front,back,left,right
scale = .2,.2
sprpriority = 40
bindtime=-1

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 230-time*23,256

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow

[State 0, StopSnd]
type = StopSnd
trigger1 = time = 0
channel = 1
[State 0, StopSnd]
type = StopSnd
trigger1 = time = 0
channel = 2
[State 0, StopSnd]
type = StopSnd
trigger1 = time = 0
channel = 3

[State 200, End]
type = Destroyself
trigger1 = time = 100
;===============================================================================
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------

[Statedef 600]
type    = a
movetype= A
physics = a
juggle  = 3
poweradd= 22
ctrl = 0
velset = 2,-4
anim = 600

[State 0, Helper]
type = Helper
trigger1 = animelem = 5
helpertype = normal ;player
name = "AfterFX1"
ID = 201
stateno = 201
ownpal = 1
vfacing = -1
pos = 35,-46
ignorehitpause = 99
postype = p1    ;p2,front,back,left,right
size.xscale = .05
size.yscale = .05


[State 0, Explod]
type = Explod
trigger1 = timemod =1,0  && time <= 10
anim = 7501
ID = 7501
pos = -10-(random%10),-45+(random%40)
postype = p1  ;p2,front,back,left,right
scale = .05,.05
sprpriority = 10

[State 5000]
type = PlaySnd
trigger1 = time=0
value = S500,0
volumescale = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S200,6

[State 0, 1]
type = HitDef
trigger1 = time =0
attr = S, NA
damage = 20
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 10, 15
sparkno = -1;S6055
sparkxy = -10, -30
hitsound = S200,3
guard.sparkno = S7100
guardsound = S200,41
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -4
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -2,0
air.hittime = 12
Envshake.time = 5
[State 0, Helper]
type = Helper
triggerall = numhelper(285) = 0
trigger1 = movehit = 1
helpertype = normal ;player
name = "HitSpark"
ID = 285
stateno = 285
ownpal = 1
pos = 0,-35
ignorehitpause = 99
postype = p2    ;p2,front,back,left,right
size.xscale = .15
size.yscale = .15
[State 0, Helper]
type = Helper
triggerall = numhelper(286) = 0
trigger1 = movehit = 1
helpertype = normal ;player
name = "HitSpark2"
ID = 286
stateno = 286
ownpal = 1
pos = 0,-35
ignorehitpause = 99
postype = p2    ;p2,front,back,left,right
size.xscale = .15
size.yscale = .15
[State 0, Helper]
type = Helper
triggerall = numhelper(287) = 0
trigger1 = movehit = 1
helpertype = normal ;player
name = "HitSpark3"
ID = 287
stateno = 287
ownpal = 1
pos = 0,-35
ignorehitpause = 99
postype = p2    ;p2,front,back,left,right
size.xscale = .08
size.yscale = .08

[State 231, end]
type = ChangeState
triggerall = movehit
Triggerall = AIlevel > 0
trigger1 = time > 10
value = 610
ctrl = 1

[State 230, end]
type = ChangeState
triggerall = movehit
trigger1 = command = "b"
value = 610
ctrl = 1

[State 230, end]
type = ChangeState
trigger1 = animtime = 0
value = 50
ctrl = 1
;---------------------------------------------------------------------------

[Statedef 610]
type    = a
movetype= A
physics = a
juggle  = 3
poweradd= 22
ctrl = 0
velset = 2,-3
anim = 610

[State 0, SprPriority]
type = SprPriority
trigger1 = 1
value = 2


[State 0, Helper]
type = Helper
trigger1 = animelem = 3
helpertype = normal ;player
name = "AfterFX2"
ID = 211
stateno = 211
ownpal = 1
vfacing = -1
pos = 30,-10
ignorehitpause = 99
postype = p1    ;p2,front,back,left,right
size.xscale = .1
size.yscale = .4

[State 0, Explod]
type = Explod
trigger1 = timemod =1,0  && time <= 10
anim = 7501
ID = 7501
pos = -10-(random%10),-45+(random%40)
postype = p1  ;p2,front,back,left,right
scale = .05,.05
sprpriority = 10

[State 5000]
type = PlaySnd
trigger1 = random<=500 && time=0
value = S500,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S200,1
volumescale = 999

[State 0, 1]
type = HitDef
trigger1 = time =0
attr = S, NA
damage = 20
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 10, 20
sparkno = -1;S6055
sparkxy = -10, -30
hitsound = S200,2
guard.sparkno = S7100
guardsound = S200,40
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -3,0
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -2,0
air.hittime = 12
Envshake.time = 5

[State 0, Helper]
type = Helper
triggerall = numhelper(285) = 0
trigger1 = movehit = 1
helpertype = normal ;player
name = "HitSpark"
ID = 285
stateno = 285
ownpal = 1
pos = 44,-35
ignorehitpause = 99
postype = p1    ;p2,front,back,left,right
size.xscale = .15
size.yscale = .15
[State 0, Helper]
type = Helper
triggerall = numhelper(286) = 0
trigger1 = movehit = 1
helpertype = normal ;player
name = "HitSpark2"
ID = 286
stateno = 286
ownpal = 1
pos = 44,-35
ignorehitpause = 99
postype = p1    ;p2,front,back,left,right
size.xscale = .15
size.yscale = .15
[State 0, Helper]
type = Helper
triggerall = numhelper(287) = 0
trigger1 = movehit = 1
helpertype = normal ;player
name = "HitSpark3"
ID = 287
stateno = 287
ownpal = 1
pos = 44,-35
ignorehitpause = 99
postype = p1    ;p2,front,back,left,right
size.xscale = .08
size.yscale = .08

[State 231, end]
type = ChangeState
triggerall = movehit
Triggerall = AIlevel > 0
trigger1 = time = 8
value = 620
ctrl = 1

[State 230, end]
type = ChangeState
triggerall = movehit
trigger1 = command = "b"
value = 620
ctrl = 1

[State 230, end]
type = ChangeState
triggerall = movehit
trigger1 = command = "c"
value = 630
ctrl = 1
;---------------------------------------------------------------------------

[Statedef 620]
type    = a
movetype= A
physics = a
juggle  = 3
poweradd= 22
ctrl = 0
velset = 2,-3
anim = 620

[State 0, SprPriority]
type = SprPriority
trigger1 = 1
value = 2

[State 0, Helper]
type = Helper
trigger1 = animelem = 3
helpertype = normal ;player
name = "AfterFX2"
ID = 231
stateno = 231
ownpal = 1
vfacing = -1
pos = 15,-35
ignorehitpause = 99
postype = p1    ;p2,front,back,left,right
size.xscale = .27
size.yscale = .17
bindtime = 99

[State 0, Explod]
type = Explod
trigger1 = timemod =1,0  && time <= 10
anim = 7501
ID = 7501
pos = -10-(random%10),-45+(random%40)
postype = p1  ;p2,front,back,left,right
scale = .05,.05
sprpriority = 10

[State 5000]
type = PlaySnd
trigger1 = random<=500 && time=0
value = S500,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S200,1
volumescale = 999

[State 0, 1]
type = HitDef
trigger1 = time =0
attr = S, NA
damage = 20
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 10, 20
sparkno = -1;S6055
sparkxy = -10, -30
hitsound = S200,2
guard.sparkno = S7100
guardsound = S200,40
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -3,0
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -2,0
air.hittime = 12
Envshake.time = 5

[State 0, Helper]
type = Helper
triggerall = numhelper(285) = 0
trigger1 = movehit = 1
helpertype = normal ;player
name = "HitSpark"
ID = 285
stateno = 285
ownpal = 1
pos = 44,-35
ignorehitpause = 99
postype = p1    ;p2,front,back,left,right
size.xscale = .15
size.yscale = .15
[State 0, Helper]
type = Helper
triggerall = numhelper(286) = 0
trigger1 = movehit = 1
helpertype = normal ;player
name = "HitSpark2"
ID = 286
stateno = 286
ownpal = 1
pos = 44,-35
ignorehitpause = 99
postype = p1    ;p2,front,back,left,right
size.xscale = .15
size.yscale = .15
[State 0, Helper]
type = Helper
triggerall = numhelper(287) = 0
trigger1 = movehit = 1
helpertype = normal ;player
name = "HitSpark3"
ID = 287
stateno = 287
ownpal = 1
pos = 44,-35
ignorehitpause = 99
postype = p1    ;p2,front,back,left,right
size.xscale = .08
size.yscale = .08

[State 231, end]
type = ChangeState
triggerall = movehit
Triggerall = AIlevel > 0
trigger1 = time = 12
value = 630
ctrl = 1

[State 230, end]
type = ChangeState
triggerall = movehit
trigger1 = command = "c"
value = 630
ctrl = 1
;-------------------------------------
[StateDef 622]
type = S
movetype= I
physics = S
velset = 0,0
anim = 9999
poweradd = 0

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 10
;freq = 60
ampl = -4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S200,10

[State 0, DestroySelf]
type = DestroySelf
trigger1 = TIME = 30
;---------------------------------------------------------------------------

[Statedef 630]
type    = a
movetype= A
physics = a
juggle  = 3
poweradd= 22
ctrl = 0
anim = 630


[State 0, Explod]
type = Explod
trigger1 = movehit = 1
anim = 6151
ID = 6151
pos = 30,-10
angle = -45
postype = p1  ;p2,front,back,left,right
scale = .2,.2
sprpriority = 11

[State 0, Helper]
type = Helper
trigger1 = animelem = 5
helpertype = normal ;player
name = "AfterFX2"
ID = 241
stateno = 241
ownpal = 1
vfacing = -1
pos = 12,-22
ignorehitpause = 99
postype = p1    ;p2,front,back,left,right
size.xscale = .18
size.yscale = .35
bindtime = 99

[State 0, Helper]
type = Helper
triggerall = movehit && p2stateno = 4263
trigger1 = numhelper (622) = 0
helpertype = normal ;player
name = "sound"
ID = 622
stateno = 622
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1

[State 0, Explod]
type = Explod
trigger1 = p2stateno = 4262
anim = 7500
ID = 7500
angle = 55
ownpal = 1
pos = -5+(random%10),-25+(random%25)
postype = p2  ;p2,front,back,left,right
scale = .15,.07
sprpriority = 40

[State 0, Explod]
type = Explod
triggerall = movehit && p2stateno = 4263
trigger1 = numexplod (6100) = 0
anim = 6100
ID =6100
pos = -5,5
ownpal = 1
postype = p2  ;p2,front,back,left,right
scale = .2,.1
sprpriority = -2
ownpal = 1
[State 0, Explod]
type = Explod
triggerall = movehit && p2stateno = 4263
trigger1 = numexplod (7700) = 0
anim = 7700
ID =7700
pos = -5,5
ownpal = 1
postype = p2  ;p2,front,back,left,right
scale = .25,.25
sprpriority = 20
ownpal = 1

[State 0, VelAdd]
type = VelAdd
trigger1 = time = 0
x = 0
y = -2
[State 0, SprPriority]
type = SprPriority
trigger1 = 1
value = 2

[State 0, VelSet]
type = VelSet
trigger1 = time = [10,25]
x = 0
y = 0

[State 0, Explod]
type = Explod
trigger1 = timemod =1,0  && time <= 15
anim = 7501
ID = 7501
pos = -10-(random%10),-45+(random%40)
postype = p1  ;p2,front,back,left,right
scale = .05,.05
sprpriority = 10

[State 5000]
type = PlaySnd
trigger1 = random<=500 && time=0
value = S500,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S200,7

[State 0, 1]
type = HitDef
trigger1 = time =0
attr = S, NA
damage = 20
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 0
sparkno = -1;S6055
sparkxy = -10, -30
hitsound = S200,14
guard.sparkno = S7100
guardsound = S200,40
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -3,10
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -3,10
air.hittime = 12
Envshake.time = 5

[State 0, TargetState]
type = TargetState
trigger1 = movehit = 1
value = 4262
ignorehitpause = 99
[State 0, Helper]
type = Helper
triggerall = numhelper(285) = 0
trigger1 = movehit = 1
helpertype = normal ;player
name = "HitSpark"
ID = 285
stateno = 285
ownpal = 1
pos = -15,-0
ignorehitpause = 99
postype = p2    ;p2,front,back,left,right
size.xscale = .15
size.yscale = .15
[State 0, Helper]
type = Helper
triggerall = numhelper(286) = 0
trigger1 = movehit = 1
helpertype = normal ;player
name = "HitSpark2"
ID = 286
stateno = 286
ownpal = 1
pos = -15,-0
ignorehitpause = 99
postype = p2    ;p2,front,back,left,right
size.xscale = .15
size.yscale = .15
[State 0, Helper]
type = Helper
triggerall = numhelper(287) = 0
trigger1 = movehit = 1
helpertype = normal ;player
name = "HitSpark3"
ID = 287
stateno = 287
ownpal = 1
pos = -15,-0
ignorehitpause = 99
postype = p2    ;p2,front,back,left,right
size.xscale = .08
size.yscale = .08


[State 230, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1

;---------------------------------------------------------------------------

[Statedef 640]
type    = a
movetype= A
physics = a
juggle  = 3
poweradd= 22
ctrl = 0
anim = 640

[State 0, Helper]
type = Helper
trigger1 = animelem = 3
helpertype = normal ;player
name = "AfterFX2"
ID = 641
stateno = 641
ownpal = 1
vfacing = 1
pos = 42,-22
ignorehitpause = 99
postype = p1    ;p2,front,back,left,right
size.xscale = .18
size.yscale = .35
bindtime = 99

[State 0, SprPriority]
type = SprPriority
trigger1 = 1
value = 2

[State 0, Explod]
type = Explod
trigger1 = timemod =1,0  && time <= 10
anim = 7501
ID = 7501
pos = -10-(random%10),-45+(random%40)
postype = p1  ;p2,front,back,left,right
scale = .05,.05
sprpriority = 10

[State 5000]
type = PlaySnd
trigger1 = random<=500 && time=0
value = S500,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S200,1
volumescale = 999

[State 0, 1]
type = HitDef
trigger1 = time =0
attr = S, NA
damage = 20
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 20
sparkno = -1;S6055
sparkxy = -10, -30
hitsound = S200,2
guard.sparkno = S7100
guardsound = S200,40
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -3,0
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -2,0
air.hittime = 12
Envshake.time = 5

[State 0, Helper]
type = Helper
triggerall = numhelper(285) = 0
trigger1 = movehit = 1
helpertype = normal ;player
name = "HitSpark"
ID = 285
stateno = 285
ownpal = 1
pos = 0,-35
ignorehitpause = 99
postype = p2   ;p2,front,back,left,right
size.xscale = .15
size.yscale = .15
[State 0, Helper]
type = Helper
triggerall = numhelper(286) = 0
trigger1 = movehit = 1
helpertype = normal ;player
name = "HitSpark2"
ID = 286
stateno = 286
ownpal = 1
pos = 0,-35
ignorehitpause = 99
postype = p2    ;p2
,front,back,left,right
size.xscale = .15
size.yscale = .15
[State 0, Helper]
type = Helper
triggerall = numhelper(287) = 0
trigger1 = movehit = 1
helpertype = normal ;player
name = "HitSpark3"
ID = 287
stateno = 287
ownpal = 1
pos = 0,-35
ignorehitpause = 99
postype = p2    ;p2,front,back,left,right
size.xscale = .08
size.yscale = .08

[State 230, end]
type = ChangeState
trigger1 = animtime = 0
value = 50
ctrl = 1
;-------------------------------------------------------------------------------
          ;after3
[Statedef 641]
type    = A
movetype= I
physics = N
anim = 7301
sprpriority = 3

[State 0, BindToRoot]
type = BindToRoot
trigger1 = time = 0
time = 10
pos = 35,-40

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = 0

[State 0, SprPriority]
type = SprPriority
trigger1 = 1
value = 5

[State 0, PalFXWiz]
type = PalFX
trigger1 = time =0
time = 999
add = 0,-200,10
mul = 256,256,256
sinadd = 0,8,0,10
invertall = 0
color = 0

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow

[State 200, End]
type = Destroyself
trigger1 = AnimTime = 0
;---------------------------------------------------------------------------

[Statedef 650]
type    = a
movetype= A
physics = a
juggle  = 3
poweradd= 22
ctrl = 0
velset = 0,0
anim = 650

[State 0, 1]
type = HitDef
trigger1 = time =0
attr = A, HP
damage = 40
animtype = Light
guardflag = MA
hitflag = MAFD
priority = 3, Hit
pausetime = 0, 15
sparkno = -1;S6055
sparkxy = -10, -30
hitsound = S200,5
guard.sparkno = S7100
guardsound = S200,41
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -4
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -2,0
air.hittime = 12
Envshake.time = 5

[State 0, Explod]
type = Explod
trigger1 = animelem = 2
anim = 6760
ID = 6760
angle = -90
bindtime = 99
pos = 0,-60
postype = p1  ;p2,front,back,left,right
scale = .4,.4
sprpriority = 9

[State 0, Explod]
type = Explod
trigger1 = animelem = 2
anim = 6780
ID = 6780
pos = 0,-30
angle = -90
postype = p1  ;p2,front,back,left,right
scale = .15,.15
sprpriority = 10

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 2 
x = 0
y = 10

[State 0, SprPriority]
type = SprPriority
trigger1 = 1
value = 2

[State 5000]
type = PlaySnd
trigger1 = random<=500 && time=0
value = S500,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S200,16
volumescale = 999

[State 0, Helper]
type = Helper
triggerall = numhelper(285) = 0
trigger1 = movehit = 1
helpertype = normal ;player
name = "HitSpark"
ID = 285
stateno = 285
ownpal = 1
pos = 0,-35
ignorehitpause = 99
postype = p2    ;p2,front,back,left,right
size.xscale = .15
size.yscale = .15
[State 0, Helper]
type = Helper
triggerall = numhelper(286) = 0
trigger1 = movehit = 1
helpertype = normal ;player
name = "HitSpark2"
ID = 286
stateno = 286
ownpal = 1
pos = 0,-35
ignorehitpause = 99
postype = p2    ;p2,front,back,left,right
size.xscale = .15
size.yscale = .15
[State 0, Helper]
type = Helper
triggerall = numhelper(287) = 0
trigger1 = movehit = 1
helpertype = normal ;player
name = "HitSpark3"
ID = 287
stateno = 287
ownpal = 1
pos = 0,-35
ignorehitpause = 99
postype = p2    ;p2,front,back,left,right
size.xscale = .08
size.yscale = .08

;---------------------------------------------------------------------------

[Statedef 651]
type    = S
movetype= A
physics = S
juggle  = 3
poweradd= 22
ctrl = 0
velset = 0,0
anim = 651

[State 0, 1]
type = HitDef
trigger1 = time =0
attr = S, NA
damage = 20
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 15
sparkno = -1;S6055
sparkxy = -10, -30
hitsound = S200,3
guard.sparkno = S7100
guardsound = S200,41
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -4
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -2,0
air.hittime = 12
Envshake.time = 5

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 10
ampl = -4

[State 0, Explod]
type = Explod
trigger1 = time = 0 
anim = 7701
ID = 7701
ownpal = 1
pos = 0,0
postype = p1  ;p2,front,back,left,right
scale = .25,.15
sprpriority = -1

[State 0, Explod]
type = Explod
trigger1 = time = 0 
anim = 7702
ID = 7702
ownpal = 1
pos = 0,0
postype = p1  ;p2,front,back,left,right
scale = .2,.2
sprpriority = 10

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 2 
x = 0
y = 0

[State 0, PosSet]
type = PosSet
trigger1 = time = 0
y = 0


[State 0, SprPriority]
type = SprPriority
trigger1 = 1
value = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S200,20
volumescale = 999

[State 0, Helper]
type = Helper
triggerall = numhelper(285) = 0
trigger1 = movehit = 1
helpertype = normal ;player
name = "HitSpark"
ID = 285
stateno = 285
ownpal = 1
pos = 0,-5
ignorehitpause = 99
postype = p2    ;p2,front,back,left,right
size.xscale = .15
size.yscale = .15
[State 0, Helper]
type = Helper
triggerall = numhelper(286) = 0
trigger1 = movehit = 1
helpertype = normal ;player
name = "HitSpark2"
ID = 286
stateno = 286
ownpal = 1
pos = 0,-5
ignorehitpause = 99
postype = p2    ;p2,front,back,left,right
size.xscale = .15
size.yscale = .15
[State 0, Helper]
type = Helper
triggerall = numhelper(287) = 0
trigger1 = movehit = 1
helpertype = normal ;player
name = "HitSpark3"
ID = 287
stateno = 287
ownpal = 1
pos = 0,-5
ignorehitpause = 99
postype = p2    ;p2,front,back,left,right
size.xscale = .08
size.yscale = .08

[State 0, CtrlSet]
type = CtrlSet
trigger1 = movehit
value = 1


[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; Throw - Attempt

[Statedef 800]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
anim = 800

; Notes: The '-' symbol in the hitflag field means that it only affects
;   players who are not in a hit state. This prevents the player from combo-ing
;   into the throw. The priority should be set to a low number, such as
;   1 or 2, so that the throw does not take precedence over normal attacks.
;   The type of priority must always be set to "Miss" or "Dodge" for throws,
;   otherwise strange behavior can result.
[State 800, 1]
type = HitDef
Trigger1 = Time = 0
attr = S, NT          ;Attributes: Standing, Normal Throw
hitflag = M-          ;Affect only ground people who are not being hit
priority = 1, Miss    ;Throw has low priority, must be miss or dodge type.
sparkno = -1          ;No spark
sprpriority = 1       ;Draw in front of p2
p1facing = ifelse (command = "holdfwd", -1, 1) ;Turn if holding forwards
p2facing = 1          ;Force p2 to face player
p1stateno = 810       ;On success, player changes to state 810
p2stateno = 820       ;If hit, p2 changes to state 820 in player's cns
fall = 1              ;Force p2 into falling down

[State 800, 2]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Throwing the opponent
; Description: In this state, the player throws the opponent by binding him to
;     various offsets based on his current frame of animation. For
;     example, [State 810, Bind 1] binds the opponent to an offset of
;     28 pixels in front of the player. That puts him around where the hand
;     is at. Is is important to keep the opponent bound using a
;     TargetBind controller at all times, until you let him go. This
;     is especially important if your player has a Clsn2 box that
;     allows him to get hit while throwing someone. Each time a player
;     gets hit, all his bound targets will be set to a fall state. If
;     the opponent is not bound, then he might get stuck in his thrown
;     state when his attacker is knocked out of the throw halfway.
; Notes: There is a TargetLifeAdd controller to decrease the opponent's
;     life, and a TargetState controller to change his state to a
;     falling state when KFM lets go of him.
[Statedef 810]
type    = S
movetype= A
physics = N
anim = 810
poweradd = 60

[State 810, Bind 1]
type = TargetBind
trigger1 = AnimElemTime(2) < 0
pos = 28, 0

[State 810, Width 2-11]
type = Width
trigger1 = AnimElemTime(2) >= 0 && AnimElemTime(12) < 0
edge = 60,0

[State 810, Bind 2-4]
type = TargetBind
trigger1 = AnimElemTime(2) >= 0 && AnimElemTime(5) < 0
pos = 58, 0

[State 810, Bind 5]
type = TargetBind
trigger1 = AnimElemTime(5) >= 0 && AnimElemTime(6) < 0
pos = 47, 0

[State 810, Bind 6]
type = TargetBind
trigger1 = AnimElemTime(6) >= 0 && AnimElemTime(7) < 0
pos = 41, -60

[State 810, Bind 7]
type = TargetBind
trigger1 = AnimElemTime(7) >= 0 && AnimElemTime(8) < 0
pos = 25, -75

[State 810, Bind 8]
type = TargetBind
trigger1 = AnimElemTime(8) >= 0 && AnimElemTime(9) < 0
pos = 15, -90

[State 810, Bind 9]
type = TargetBind
trigger1 = AnimElemTime(9) >= 0 && AnimElemTime(10) < 0
pos = -5, -96

[State 810, Bind 10]
type = TargetBind
trigger1 = AnimElemTime(10) >= 0 && AnimElemTime(11) < 0
pos = -14, -90

[State 810, Bind 11]
type = TargetBind
trigger1 = AnimElem = 11
pos = -50, -50

[State 810, Hurt 11]
type = TargetLifeAdd
trigger1 = AnimElem = 11
value = -78

[State 810, Throw 11]
type = TargetState
trigger1 = AnimElem = 11
value = 821

[State 810, Turn 12]
type = Turn
trigger1 = AnimElem = 12

[State 810, Pos 15]
type = PosAdd
trigger1 = AnimElem = 15
x = -10

[State 810, State End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Opponent Thrown
; (a custom gethit state)
; Description: This is the state that the opponent changes to after being
;     hit by the throw HitDef. The important thing here is to use a
;     ChangeAnim2 controller. The difference between ChangeAnim2 and
;     ChangeAnim is that ChangeAnim2 changes the player's animation to
;     an action in the AIR file of the attacker (in this case, kfm.air),
;     whereas ChangeAnim always changes the player to an action in his
;     own AIR file. Look at Action 820 in kfm.air for some extra
;     comments.
[Statedef 820]
type    = A
movetype= H
physics = N
velset = 0,0

[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 820

;---------------------------------------------------------------------------
; Opponent thrown into the air
; (a custom gethit state)
; Description: This state has the opponent flying through the air and
;     falling down onto the ground. The SelfState controller sets the
;     opponent back using to his own state file when he his the ground.
;     Controllers 821,2 and 821,3 allow the opponent to recover by
;     hitting his recovery command when he is falling.
[Statedef 821]
type    = A
movetype= H
physics = N
velset = 2.8,-7
poweradd = 40

[State 821, 1] ;Gravity
type = VelAdd
Trigger1 = 1
y = .4

[State 821, 2] ; Recover near ground (use ChangeState)
type = ChangeState
triggerall = Vel Y > 0
triggerall = Pos Y >= -20
triggerall = alive
triggerall = CanRecover
trigger1 = Command = "recovery"
value = 5200 ;HITFALL_RECOVER

[State 821, 3] ; Recover in mid air (use SelfState)
type = SelfState
triggerall = Vel Y > 0
triggerall = alive
triggerall = CanRecover
trigger1 = Command = "recovery"
value = 5210 ;HITFALL_AIRRECOVER

[State 821, 4] ;Hit ground
type = SelfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5100 ;Hit ground

;----------------------------------------------------------
[StateDef 900]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 900
poweradd = 0
sprpriority = 2

[State -1]
Type = Explod
trigger1 = timemod = 20,0  && time >= 0
Anim = 6700
ID = 900
Ownpal = 1
BindTime = 1
PosType = P1
Pos = 0,IfElse(P2StateType != L,Const(Size.Mid.Pos.Y)+20,-10)
Scale = 0.35,0.35
Facing = IfElse(Var(7)=0,1,-1)
SprPriority = 5
IgnoreHitPause = 1
Persistent = 23
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 0, Explod]
type = Explod
trigger1 = timemod = 5,0  && time >= 0
anim = 6401
ID = 6401
pos = -10+(random%20),0
postype = p2  ;p2,front,back,left,right
vel = 0,-2
scale = .7,.7
sprpriority = 10

[State 1200]
type = PosAdd
trigger1 = 1
x = p2bodydist x+5;,60
y = p2bodydist y-20

[State 0, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0
;---------------------------------------------
;---------------------------------------------------------------------------
[StateDef 1000]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1000
poweradd = -1000
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 7
value = S500,10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 9
value = S200,17
volumescale = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 9
value = S41,0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time = 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 40

[State 0, 1]
type = HitDef
trigger1 = time =0
attr = A, HP
getpower = 0,0
damage = 0,30
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 20
sparkno = -1;S6055
sparkxy = -10, -30
hitsound = -1
guard.sparkno = S7100
guardsound = S200,40
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -0
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = 0,0
air.hittime = 12

[State 0, Explod]
type = Explod
trigger1 = time = 26
anim = 6154
ID = 6154
pos = 0,-27
ownpal = 1
postype = p1  ;p2,front,back,left,right
scale = .2,.2
ownpal = 1
remappal = 3 , 1
sprpriority = 10
supermove = 1
supermovetime = 99
[State 0, Explod]
type = Explod
trigger1 = time = 26
anim = 6154
ID = 6154
pos = 0,-27
ownpal = 1
postype = p1  ;p2,front,back,left,right
scale = .2,.2
ownpal = 1
remappal = 3 , 0
sprpriority = 10
supermove = 1
supermovetime = 99
trans = sub

[State 0, Explod]
type = Explod
trigger1 = time = 31
anim = 6154
ID = 6154
pos = 0,-30
ownpal = 1
postype = p1  ;p2,front,back,left,right
scale = .3,.3
ownpal = 1
remappal = 3 , 1
sprpriority = 10
supermove = 1
supermovetime = 99
[State 0, Explod]
type = Explod
trigger1 = time = 31
anim = 6154
ID = 6154
pos = 0,-30
ownpal = 1
postype = p1  ;p2,front,back,left,right
scale = .3,.3
ownpal = 1
remappal = 3 , 0
sprpriority = 10
supermove = 1
supermovetime = 99
trans = sub

[State 0, Explod]
type = Explod
trigger1 = time = 28
anim = 6154
ID = 6154
pos = 0,-30
ownpal = 1
postype = p1  ;p2,front,back,left,right
scale = .4,.4
ownpal = 1
remappal = 3 , 1
sprpriority = 10
supermove = 1
supermovetime = 99
[State 0, Explod]
type = Explod
trigger1 = time = 28
anim = 6154
ID = 6154
pos = 0,-30
ownpal = 1
postype = p1  ;p2,front,back,left,right
scale = .4,.4
ownpal = 1
remappal = 3 , 0
sprpriority = 10
supermove = 1
supermovetime = 99
trans = sub

[State 0, Explod]
type = Explod
trigger1 = time = 26
anim = 6154
ID = 6154
pos = 0,-30
ownpal = 1
postype = p1  ;p2,front,back,left,right
scale = .5,.5
ownpal = 1
remappal = 3 , 1
sprpriority = 10
supermove = 1
supermovetime = 99
[State 0, Explod]
type = Explod
trigger1 = time = 26
anim = 6154
ID = 6154
pos = 0,-30
ownpal = 1
postype = p1  ;p2,front,back,left,right
scale = .5,.5
ownpal = 1
remappal = 3 , 0
sprpriority = 10
supermove = 1
supermovetime = 99
trans = sub

[State 0, Helper]
type = Helper
trigger1 = animelem = 9
helpertype = normal ;player
name = "superFX2"
ID = 1005
stateno = 1005
ownpal = 1
vfacing = -1
pos = 22,-18
ignorehitpause = 99
postype = p1    ;p2,front,back,left,right
size.xscale = .15
size.yscale = .3
bindtime = 99
sprpriority = 5
supermove = 1
supermovetime = 99

[State 0, Explod]
type = Explod
trigger1 = animelem = 9
anim = 6051
ID = 6051
pos = -10,-11
ownpal = 1
postype = p1  ;p2,front,back,left,right
scale = .5,.5
ownpal = 1
remappal = 3 , 1
sprpriority = 6
supermove = 1
supermovetime = 99
[State 0, Explod]
type = Explod
trigger1 = animelem = 9
anim = 6051
ID = 6051
pos = -10,-11
ownpal = 1
postype = p1  ;p2,front,back,left,right
scale = .5,.5
ownpal = 1
remappal = 3 , 0
sprpriority = 6
supermove = 1
supermovetime = 99
trans = sub

[State 0, Explod]
type = Explod
trigger1 = animelem = 9
anim = 6052
ID = 6052
pos = 20,-11
ownpal = 1
postype = p1  ;p2,front,back,left,right
scale = .5,.5
ownpal = 1
remappal = 3 , 1
sprpriority = 6
supermove = 1
supermovetime = 99
[State 0, Explod]
type = Explod
trigger1 = animelem = 9
anim = 6052
ID = 6052
pos = 20,-11
ownpal = 1
postype = p1  ;p2,front,back,left,right
scale = .5,.5
ownpal = 1
remappal = 3 , 0
sprpriority = 6
supermove = 1
supermovetime = 99
trans = sub

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 26
time = 6
;freq = 60
ampl = -14
;phase = 90

[State 0, Helper]
type = Helper
trigger1 = timemod = 1,0 && time = [26,36]
helpertype = normal ;player
name = "eff3"
ID = 109
stateno = 109
pos = -10+(random%6),-40+(random%30)
postype = p1    ;p2,front,back,left,right
size.xscale = .15
size.yscale =  .1
ownpal= 1

[State 0, VelAdd]
type = Velset
trigger1 = time = [26,36]
x = 12
y = 0


[State 0, BGPalFX]
type = BGPalFX
trigger1 = time = 20
time = 100
add = -40,-40,-40

[State 0, BGPalFX]
type = BGPalFX
trigger1 = time = 0
time = 20
add = 0,0,0
sinadd = -40,-40,-40,100

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal ;player
name = "SupFX"
ID = 8000
stateno = 8000
pos = 0,-30
postype = p1    ;p2,front,back,left,right
supermove = 99
supermovetime = 999
size.xscale = .25
size.yscale = .25
ownpal = 1
supermove = 999
supermovetime = 999
pausemove = 1
pausemovetime = 99

[State 3000, Super A]
type = SuperPause
trigger1 = AnimElem = 1
pos = 5, -36
time = 30
move = 30
movetime = 30
anim = -1;S8000
darken = 0
sound = -1

[State 1000, end]
type = ChangeState
trigger1 = AnimTime = 0
trigger2 = movecontact = 1
value = 1001
ctrl = 1
;---------------------------------------------------------------------------
[StateDef 1001]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1001
poweradd = -0
sprpriority = 2

[State 0, Pause]
type = Pause
triggerall = movehit
trigger1 = time = [0,20]
time = 1

[State 0, 1]
type = HitDef
trigger1 = time =0
attr = A, HP
getpower = 0,0
damage = 150,60
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 10
sparkno = -1;S6055
sparkxy = -10, -30
hitsound = S200,14
guard.sparkno = S7100
guardsound = S200,40
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -5,-8
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -5,-8
air.hittime = 12
fall = 1
air.fall = 1


[State 0, Explod]
type = Explod
trigger1 = movehit = 1
anim = 6600
ID = 6600
pos = -20,-35
postype = p2  ;p2,front,back,left,right
scale = .25,.25
sprpriority = 99

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 2
time = 20
freq = 20
ampl = -2
phase = 30

[State 0, Helper]
type = Helper
trigger1 = animelem = 1
helpertype = normal ;player
name = "ultAfterFX1"
ID = 1002
stateno = 1002
ownpal = 1
facing = -1
pos = 15,-30
ignorehitpause = 99
postype = p1    ;p2,front,back,left,right
size.xscale = .2
size.yscale = .2

[State 0, VelAdd]
type = Velset
trigger1 = time = 0
x = 0
y = 0

[State 0, BGPalFX]
type = BGPalFX
trigger1 = time = 45
time = 30
add = -40,-40,-40
sinadd = 40,40,40,100

[State 1000, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
          ;after1
[Statedef 1002]
type    = A
movetype= I
physics = N
anim = 7310
sprpriority = 3

[state 0]
type = remappal
trigger1 = e
source = 3 , 0
dest = 3 , 1
ignorehitpause = 1
;persistent = 0

[state 0]
type = explod
trigger1 = time = 0
anim = anim
id = anim
pos = 0 , 0
vel = 0 , 0
accel = 0 , 0
postype = p1
;space = stage
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = ((const(size.xscale) * 1.0) * 1.0) , ((const(size.yscale) * 1.0) * 1.0)
angle = -50
ownpal = 1
remappal = 3 , 0
removeongethit = 1
ignorehitpause = 1
supermovetime = 0
;supermove = 0
pausemovetime = 0
;persistent = 0
trans = sub

[State 0, Explod]
type = Explod
trigger1 = time = 6
anim = 6400
ID =6400
facing = -1
pos = -20,-5
ownpal = 1
remappal = 3 , 1
postype = p1  ;p2,front,back,left,right
scale = .2,.15
sprpriority = 10
ownpal = 1
[State 0, Explod]
type = Explod
trigger1 = time = 6
anim = 6400
ID =6400
facing = -1
pos = -20,-5
ownpal = 1
remappal = 3 , 0
postype = p1  ;p2,front,back,left,right
scale = .2,.15
sprpriority = 10
ownpal = 1
trans = sub

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 6100
ID =6100
pos = -5,35
ownpal = 0
postype = p1  ;p2,front,back,left,right
scale = .2,.1
sprpriority = -2

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = -50

[State 0, SprPriority]
type = SprPriority
trigger1 = 1
value = 4

;[State 0, PalFXWiz]
;type = PalFX
;trigger1 = time =0
;time = 999
;add = 0,-200,0
;mul = 256,256,256
;sinadd = 0,8,0,10
;invertall = 0
;color = 0

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow

[State 200, End]
type = Destroyself
trigger1 = AnimTime = 0
;-------------------------------------------------------------------------------

[Statedef 1005]
type    = A
movetype= I
physics = N
anim = 7308
velset = 0,0

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = -90

[State 0, SprPriority]
type = SprPriority
trigger1 = 1
value = 5

[State 0, PalFXWiz]
type = PalFX
trigger1 = time =0
time = 999
add = -10,0,0
mul = 220,-200,254
sinadd = 5,0,5,100
invertall = 0
color = 0
;ignorehitpause = 0
;persistent = 1


[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow

[State 200, End]
type = Destroyself
trigger1 = AnimTime = 0
;---------------------------------------------------------------------------
[StateDef 1100]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1100
poweradd = -1000
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 44
value = S500,14
volumescale = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 44
value = S500,14
volumescale = 999


[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 7
value = S200,18
volumescale = 999

[State 0, 1]
type = HitDef
trigger1 = time =0
attr = A, HP
damage = 100
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 20
sparkno = -1;S6055
sparkxy = -10, -30
hitsound = S200,19
guard.sparkno = S7100
guardsound = S200,40
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -2,0
air.hittime = 12
fall = 1
air.fall = 1

[State 0, Explod]
type = Explod
trigger1 = animelem = 7
anim = 6650
ID = 6650
pos = 40,-48
postype = p1 ;p2,front,back,left,right
scale = .2,.2
sprpriority = 10

[State 0, Explod]
type = Explod
trigger1 = movehit  = 1
anim = 6600
ID = 6600
pos = 0,-43
vel = -1,0
postype = p2 ;p2,front,back,left,right
scale = .12,.12
sprpriority = 99

[State 0, Explod]
type = Explod
trigger1 = timemod =1,0  && time = [25,35]
anim = 7501
ID = 7501
pos = 0-(random%10),-45+(random%45)
postype = p1  ;p2,front,back,left,right
scale = .05,.05
sprpriority = 10
trans = add
vel = -1,0
[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 7
time = 6
ampl = -8

[State 0, BGPalFX]
type = BGPalFX
trigger1 = animelem = 12
time = 30
add = -20,-20,-20
sinadd = 20,20,20,100

[State 0, BGPalFX]
type = BGPalFX
trigger1 = animelem = 3
time = 100
add = -20,-20,-20

[State 0, BGPalFX]
type = BGPalFX
trigger1 = time = 0
time = 20
add = 0,0,0
sinadd = -20,-20,-20,200

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal ;player
name = "SupFX"
ID = 8000
stateno = 8000
pos = 0,-30
postype = p1    ;p2,front,back,left,right
supermove = 99
supermovetime = 999
size.xscale = .25
size.yscale = .25
ownpal = 1
supermove = 999
supermovetime = 999
pausemove = 1
pausemovetime = 99

[State 3000, Super A]
type = SuperPause
trigger1 = AnimElem = 1
pos = 5, -36
time = 30
move = 30
movetime = 30
anim = -1;S8000
darken = 0
sound = -1

[State 1500, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[StateDef 1200]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1200
poweradd = -1500
sprpriority = 2

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = movehit 
Flag = nobardisplay
flag2 = noFG
flag3 = noBG

[State 0, Explod]
type = Explod
triggerall = numexplod (8903) = 0
trigger1 = movehit = 1
anim = 8903
ID = 8903
pos = 0,0
postype = p1  ;p2,front,back,left,right
scale = 10,10
sprpriority = 99990
ignorehitpause = 99

[State 0, Explod]
type = Explod
triggerall = numexplod (6700) = 0
trigger1 = movehit = 1
anim = 6700
ID = 6700
pos = 0,-50
postype = p1  ;p2,front,back,left,right
scale = .8,.8
sprpriority = 99999
ignorehitpause = 99
ownpal = 1
remappal = 3,4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 8,0 && time = [16,32]
value = S200,6

[State 0, Explod]
type = Explod
trigger1 = animelem = 4
anim = 6550
ID = 6550
pos = -25,-45
vel = 1,-8
postype = p1  ;p2,front,back,left,right
scale = .3,.3
sprpriority = 10
supermove = 1
supermovetime = 30

[State 0, Zoom] ;Increase
type = Zoom
trigger1 = (time = [0,10]) 
postype = p1
pos = 0,0
scale = 1.0+((250/5000.000)*time)
pausemovetime = 99999
supermovetime = 99999

[State 0, Zoom] ;Decrease
type = Zoom
trigger1 = (time = [10,40]) 
postype = p1
pos = 0,0
scale = 1.5
pausemovetime = 99999
supermovetime = 99999

[State 0, Zoom] ;Decrease
type = Zoom
trigger1 = (time = [40,50]) 
postype = p1
pos = 0,0
scale = (1.000+(250/1000.000))-((250/10000.000)*(time-10))
pausemovetime = 99999
supermovetime = 99999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 11
value = S500,10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 44
value = S200,29
volumescale = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 44
value = S200,29
volumescale = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 44
value = S200,29
volumescale = 999

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time = 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 40

[State 0, 1]
type = HitDef
trigger1 = time =0
attr = A, HP
damage = 150,30
getpower = 0,0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 50, 100
sparkno = -1;S6055
sparkxy = -10, -30
hitsound = S200,15
guard.sparkno = S7100
guardsound = S200,40
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -0
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = 0,0
air.hittime = 12
fall = 1
air.fall = 1

[State 0, Helper]
type = Helper
trigger1 = animelem = 12
helpertype = normal ;player
name = "superFX2"
ID = 1205
stateno = 1205
ownpal = 1
vfacing = -1
pos = 22,-18
ignorehitpause = 99
postype = p1    ;p2,front,back,left,right
size.xscale = .15
size.yscale = .3
bindtime = 99
sprpriority = 5
supermove = 1
supermovetime = 99

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 44
time = 6
;freq = 60
ampl = -14
;phase = 90

[State 0, Helper]
type = Helper
trigger1 = timemod = 1,0 && time = [44,54]
helpertype = normal ;player
name = "eff3"
ID = 109
stateno = 109
pos = -10+(random%6),-40+(random%30)
postype = p1    ;p2,front,back,left,right
size.xscale = .15
size.yscale =  .1
ownpal= 1

[State 0, VelAdd]
type = Velset
trigger1 = time = [44,54]
x = 12
y = 0

[State 0, BGPalFX]
type = BGPalFX
trigger1 = time = 20
time = 200
add = -40,-40,-40

[State 0, BGPalFX]
type = BGPalFX
trigger1 = time = 0
time = 20
add = 0,0,0
sinadd = -40,-40,-40,100

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal ;player
name = "SupFX"
ID = 8000
stateno = 8000
pos = 0,-30
postype = p1    ;p2,front,back,left,right
supermove = 99
supermovetime = 999
size.xscale = .25
size.yscale = .25
ownpal = 1
supermove = 999
supermovetime = 999
pausemove = 1
pausemovetime = 99

[State 3000, Super A]
type = SuperPause
trigger1 = AnimElem = 1
pos = 5, -36
time = 30
move = 30
movetime = 30
anim = -1;S8000
darken = 0
sound = -1

[State 1000, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 1201
ctrl = 1
;---------------------------------------------------------------------------
[StateDef 1201]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1201
poweradd = -0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 12
value = S52,0
volumescale = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 8,0 && time = [48,69]
value = S200,6

[State 0, Explod]
type = Explod
trigger1 = animelem = 8
anim = 6550
ID = 6550
pos = -40,-200
vel = 1,6
removetime = 25
postype = p1  ;p2,front,back,left,right
scale = .3,.3
sprpriority = 10
supermove = 1
supermovetime = 30


[State 0, Explod]
type = Explod
trigger1 = animelem = 12
anim = 7030
ID = 7030
pos = -15,-50
vel = 0,0
postype = p1  ;p2,front,back,left,right
scale = .1,.1
sprpriority =15
supermove = 1
supermovetime = 30

[State 0, VelAdd]
type = Velset
trigger1 = time = 0
x = 0
y = 0

[State 0, BGPalFX]
type = BGPalFX
trigger1 = time = 50
time = 30
add = -40,-40,-40
sinadd = 40,40,40,100

[State 1000, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
          ;after1
[Statedef 1202]
type    = A
movetype= I
physics = N
anim = 7310
sprpriority = 3

[state 0]
type = remappal
trigger1 = e
source = 3 , 0
dest = 3 , 1
ignorehitpause = 1
;persistent = 0

[state 0]
type = explod
trigger1 = time = 0
anim = anim
id = anim
pos = 0 , 0
vel = 0 , 0
accel = 0 , 0
postype = p1
;space = stage
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = ((const(size.xscale) * 1.0) * 1.0) , ((const(size.yscale) * 1.0) * 1.0)
angle = -50
ownpal = 1
remappal = 3 , 0
removeongethit = 1
ignorehitpause = 1
supermovetime = 0
;supermove = 0
pausemovetime = 0
;persistent = 0
trans = sub

[State 0, Explod]
type = Explod
trigger1 = time = 6
anim = 6400
ID =6400
facing = -1
pos = -20,-5
ownpal = 1
remappal = 3 , 1
postype = p1  ;p2,front,back,left,right
scale = .2,.15
sprpriority = 10
ownpal = 1
[State 0, Explod]
type = Explod
trigger1 = time = 6
anim = 6400
ID =6400
facing = -1
pos = -20,-5
ownpal = 1
remappal = 3 , 0
postype = p1  ;p2,front,back,left,right
scale = .2,.15
sprpriority = 10
ownpal = 1
trans = sub

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 6100
ID =6100
pos = -5,35
ownpal = 0
postype = p1  ;p2,front,back,left,right
scale = .2,.1
sprpriority = -2

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = -50

[State 0, SprPriority]
type = SprPriority
trigger1 = 1
value = 4

;[State 0, PalFXWiz]
;type = PalFX
;trigger1 = time =0
;time = 999
;add = 0,-200,0
;mul = 256,256,256
;sinadd = 0,8,0,10
;invertall = 0
;color = 0

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow

[State 200, End]
type = Destroyself
trigger1 = AnimTime = 0
;-------------------------------------------------------------------------------

[Statedef 1205]
type    = A
movetype= I
physics = N
anim = 7308
velset = 0,0
poweradd= 0

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = -90

[State 0, SprPriority]
type = SprPriority
trigger1 = 1
value = 5

[State 0, PalFXWiz]
type = PalFX
trigger1 = time =0
time = 999
add = -10,0,0
mul = 220,-200,254
sinadd = 5,0,5,100
invertall = 0
color = 0
;ignorehitpause = 0
;persistent = 1


[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow

[State 200, End]
type = Destroyself
trigger1 = AnimTime = 0
;---------------------------------------------------------------------------
[StateDef 1300]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1300
poweradd = -1500
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 120
value = S500,15
volumescale = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 120
value = S500,15
volumescale = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 120
value = S500,15
volumescale = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 30
value = S500,16
volumescale = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 30
value = S500,16
volumescale = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 30
value = S500,16
volumescale = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 40
value = S500,22

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 42
value = S200,11

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S200,6


[State 0, Helper]
type = Helper
trigger1 = animelem = 3
helpertype = normal ;player
name = "Sword"
ID = 1301
stateno = 1301
pos = -20,-30
postype = p1    ;p2,front,back,left,right
facing = 1
size.xscale = 1
size.yscale = 1 
supermove = 99
supermovetime = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 6,0 && time = [50,95]
value = S200,0+(random%2)

[State 0, BGPalFX]
type = BGPalFX
trigger1 = animelem = 45
time = 30
add = -20,-20,-20
sinadd = 20,20,20,100

[State 0, BGPalFX]
type = BGPalFX
trigger1 = animelem = 3
time = 200
add = -20,-20,-20

[State 0, BGPalFX]
type = BGPalFX
trigger1 = time = 0
time = 20
add = 0,0,0
sinadd = -20,-20,-20,200

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal ;player
name = "SupFX"
ID = 8000
stateno = 8000
pos = 0,-30
postype = p1    ;p2,front,back,left,right
supermove = 99
supermovetime = 999
size.xscale = .25
size.yscale = .25
ownpal = 1
supermove = 999
supermovetime = 999
pausemove = 1
pausemovetime = 99

[State 3000, Super A]
type = SuperPause
trigger1 = AnimElem = 1
pos = 5, -36
time = 50
move = 50
movetime = 50
anim = -1;S8000
darken = 0
sound = -1


[State 0, Explod]
type = Explod
trigger1 = animelem = 42
anim = 6151
ID = 6151
angle = -90
vel = 0,0
pos = 0,-25
postype = p1  ;p2,front,back,left,right
scale = .25,.25
sprpriority = 10

[State 0, Explod]
type = Explod
trigger1 = animelem = 42
anim = 6200
ID = 6200
pos = 0,0
postype = p1  ;p2,front,back,left,right
scale = .5,.5
sprpriority = 0

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 42
time = 10
freq = 60
ampl = -4
phase = 90

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 12
time = 40
freq = 30
ampl = -2

[State 0, 1]
type = HitDef
trigger1 = timemod = 6,0 && time > 0
attr = A, HP
damage = 25,5
getpower = 0,0
animtype = Light
guardflag = MA
hitflag = MAFD
priority = 3, Hit
pausetime = 0, 5
sparkno = -1;S6055
sparkxy = -10, -30
hitsound = S200,13+(random%3)
guard.sparkno = S7100
guardsound = S200,40
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -1,-3
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -1,-2
air.hittime = 12
fall = 1
air.fall = 1

[State 0, Helper]
type = Helper
trigger1 = movehit = 1
helpertype = normal ;player
name = "hitfx"
ID = 1305
stateno = 1305
pos = 10-(random%20),0-(random%50)
postype = p2    ;p2,front,back,left,right
size.xscale = .12 
size.yscale = .12

[State 0, Explod]
type = Explod
trigger1 = timemod = 8,0 && time = [52,100]
anim = 6000
ID = 6000
pos = 0,0
postype = p1  ;p2,front,back,left,right
scale = .6,.5
sprpriority = 5
supermove = 999
supermovetime = 999

[State 0, Explod]
type = Explod
trigger1 = animelem = 12
anim = 7050
ID = 7050
pos = 0,-50
removetime = 45
postype = p1  ;p2,front,back,left,right
scale = .5,.5
sprpriority = 10

[State 0, Explod]
type = Explod
trigger1 = animelem = 12
anim = 7050
ID = 7050
pos = 0,-50
removetime = 45
postype = p1  ;p2,front,back,left,right
scale = .5,.5
sprpriority = 10

[State 2000, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;--------------------------------------
[StateDef 1301]
type = A
movetype= I
physics = A
juggle  = 1
velset = 0,0
anim = 1301
poweradd = 0
sprpriority = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1 
value = time*5

[State 0, VelAdd]
type = VelAdd
trigger1 = time = 0 
x = -5
y = 1
;--------------------------------------
[StateDef 1302]
type = S
movetype= I
physics = S
juggle  = 1
velset = 0,0
anim = 1302
poweradd = 0
sprpriority = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S200,40

[State 0, Explod]
type = Explod
trigger1 = animelem = 1
anim = 7702
ID = 7702
pos = 0,-10
postype = p1  ;p2,front,back,left,right
scale = .1,.1
sprpriority = 2
supermove = 99
supermovetime = 999

[State 0, Explod]
type = Explod
trigger1 = animelem = 1
anim = 7701
ID = 7701
pos = 0,2
postype = p1  ;p2,front,back,left,right
scale = .1,.05
sprpriority = -1
supermove = 99
supermovetime = 999

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1 
value = 0

[State 0, DestroySelf]
type = DestroySelf
trigger1 = animtime=  0 

;--------------------------------------
[StateDef 1305]
type = S
movetype= I
physics = S
juggle  = 1
velset = 0,0
anim = 6600
poweradd = 0
sprpriority = 20

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 7030
ID = 7030
pos = 0,0
postype = p1  ;p2,front,back,left,right
scale = .1,.1
trans = sub
sprpriority = 19

[State 0, DestroySelf]
type = DestroySelf
trigger1 = animtime=  0 


;---------------------------------------------------------------------------
[StateDef 1400]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1400
poweradd = -2000
sprpriority = 5

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
;value2 = S,NA
time = 10

[State 0, 1]
type = HitDef
trigger1 = animelem = 11
attr = A, HP
damage = 50
animtype = Light
guardflag = MA
hitflag = MAF
getpower = 0,0
priority = 3, Hit
pausetime = 0, 15
sparkno = -1;S6055
sparkxy = -10, -30
hitsound = S200,13
guard.sparkno = S7100
guardsound = S200,40
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -4
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -4,0
air.hittime = 12
air.fall = 1

[State 0, 1]
type = HitDef
trigger1 = animelem = 15
trigger2 = animelem = 20
attr = A, HP
damage = 50
getpower = 0,0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 15
sparkno = -1;S6055
sparkxy = -10, -30
hitsound = S200,14
guard.sparkno = S7100
guardsound = S200,40
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -4
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -4,0
air.hittime = 12
air.fall = 1

[State 0, 1]
type = HitDef
trigger1 = animelem = 23
attr = A, HP
damage = 100
getpower = 0,0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 15
sparkno = -1;S6055
sparkxy = -10, -30
hitsound = S200,15
guard.sparkno = S7100
guardsound = S200,40
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -6,-5
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -6,-5
air.hittime = 12
fall = 1
air.fall = 1

[State 0, Explod]
type = Explod
trigger1 = movehit = 1
anim = 7040
ID = 7040
pos = 0,-30
ownpal = 1
vfacing  = 1
postype = p2  ;p2,front,back,left,right
scale = .35,.35
ownpal = 1
remappal = 3 , 1
sprpriority = 18
supermove = 1
supermovetime = 99

[State 0, Explod]
type = Explod
trigger1 = movehit = 1
anim = 7000
ID = 7000
pos = 0,-30
ownpal = 1
vfacing  = 1
postype = p2  ;p2,front,back,left,right
scale = .4,.4
ownpal = 1
remappal = 3 , 1
sprpriority = 15
supermove = 1
supermovetime = 99
[State 0, Explod]
type = Explod
trigger1 = movehit = 1
anim = 7000
ID = 7000
pos = 0,-30
ownpal = 1
postype = p2  ;p2,front,back,left,right
scale = .4,.4
ownpal = 1
remappal = 3 , 0
sprpriority = 15
supermove = 1
supermovetime = 99
trans = sub

[State 0, BGPalFX]
type = BGPalFX
trigger1 = time = 100
time = 30
add = -40,-40,-40
sinadd = 40,40,40,100

[State 0, BGPalFX]
type = BGPalFX
trigger1 = time = 20
time = 150
add = -40,-40,-40

[State 0, BGPalFX]
type = BGPalFX
trigger1 = time = 0
time = 20
add = 0,0,0
sinadd = -40,-40,-40,100

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal ;player
name = "SupFX"
ID = 8000
stateno = 8000
pos = 0,-30
postype = p1    ;p2,front,back,left,right
supermove = 99
supermovetime = 999
size.xscale = .25
size.yscale = .25
ownpal = 1
supermove = 999
supermovetime = 999
pausemove = 1
pausemovetime = 99

[State 3000, Super A]
type = SuperPause
trigger1 = AnimElem = 1
pos = 5, -36
time = 40
move = 40
movetime = 40
anim = -1;S8000
darken = 0
sound = -1

[State 0, Explod]
type = Explod
trigger1 = time = 40
anim = 9150
ID = 9150
pos = 0,-100
ownpal = 1
vfacing  = 1
postype = p1  ;p2,front,back,left,right
scale = .2,.15
ownpal = 1
remappal = 3 , 1
sprpriority = 10
supermove = 1
supermovetime = 99
[State 0, Explod]
type = Explod
trigger1 = time = 40
anim = 9150
ID = 9150
pos = 0,-100
ownpal = 1
postype = p1  ;p2,front,back,left,right
scale = .2,.15
ownpal = 1
remappal = 3 , 0
sprpriority = 10
supermove = 1
supermovetime = 99
trans = sub

[State 0, Explod]
type = Explod
trigger1 = time = 56
anim = 9100
ID = 9100
pos = 30,-100
ownpal = 1
vfacing  = 1
postype = p1  ;p2,front,back,left,right
scale = .2,.15
ownpal = 1
remappal = 3 , 1
sprpriority = 10
supermove = 1
supermovetime = 99
[State 0, Explod]
type = Explod
trigger1 = time = 56
anim = 9100
ID = 9100
pos = 30,-100
ownpal = 1
postype = p1  ;p2,front,back,left,right
scale = .2,.15
ownpal = 1
remappal = 3 , 0
sprpriority = 10
supermove = 1
supermovetime = 99
trans = sub

[State 0, Explod]
type = Explod
trigger1 = time = 76
anim = 9150
ID = 9150
pos = 0,5
ownpal = 1
vfacing  = -1
postype = p1  ;p2,front,back,left,right
scale = .2,.15
ownpal = 1
remappal = 3 , 1
sprpriority = 10
supermove = 1
supermovetime = 99
[State 0, Explod]
type = Explod
trigger1 = time = 76
anim = 9150
ID = 9150
pos = 0,5
ownpal = 1
vfacing  = -1
postype = p1  ;p2,front,back,left,right
scale = .2,.15
ownpal = 1
remappal = 3 , 0
sprpriority = 10
supermove = 1
supermovetime = 99
trans = sub

[State 0, Explod]
type = Explod
trigger1 = time = 88
anim = 9100
ID = 9100
pos = 15,10
ownpal = 1
vfacing  = -1
postype = p1  ;p2,front,back,left,right
scale = .2,.15
ownpal = 1
remappal = 3 , 1
sprpriority = 10
supermove = 1
supermovetime = 99
[State 0, Explod]
type = Explod
trigger1 = time = 88
anim = 9100
ID = 9100
pos = 15,10
ownpal = 1
vfacing  = -1
postype = p1  ;p2,front,back,left,right
scale = .2,.15
ownpal = 1
remappal = 3 , 0
sprpriority = 10
supermove = 1
supermovetime = 99
trans = sub

[State 0, Helper]
type = Helper
trigger1 = time = [30,40]
trigger2 = time = [50,60]
trigger3 = time = [70,80]
trigger4 = time = [88,98]
helpertype = normal ;player
name = "eff3"
ID = 109
stateno = 109
pos = -10-(random%6),-50+(random%40)
postype = p1    ;p2,front,back,left,right
size.xscale = .1
size.yscale =  .06
ownpal= 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S500,24;+(random%5)
volumescale = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S500,24;+(random%5)
volumescale = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 9 
trigger2 = animelem = 14 
trigger3 = animelem = 19 
trigger4 = animelem = 22 
value = S500,0+(random%5)
volumescale = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 10 
trigger2 = animelem = 15 
trigger3 = animelem = 20 
trigger4 = animelem = 23
value = S200,31
volumescale = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 9 
trigger2 = animelem = 14 
trigger3 = animelem = 19 
trigger4 = animelem = 22
value = S200,32

[State 0, Explod]
type = Explod
trigger1 = animelem = 10 
trigger2 = animelem = 15 
trigger3 = animelem = 20 
trigger4 = animelem = 23
anim = 6052
ID = 6052
pos = -5,-10
ownpal = 1
vfacing  = 1
vel = -1,0
postype = p1  ;p2,front,back,left,right
scale = .45,.45
ownpal = 1
remappal = 3 , 1
sprpriority = 10
supermove = 1
supermovetime = 99
[State 0, Explod]
type = Explod
trigger1 = animelem = 10 
trigger2 = animelem = 15 
trigger3 = animelem = 20 
trigger4 = animelem = 23
anim = 6052
ID = 6052
pos = -5,-10
ownpal = 1
vfacing  = 1
vel = -1,0
postype = p1  ;p2,front,back,left,right
scale = .45,.45
ownpal = 1
remappal = 3 , 0
sprpriority = 10
supermove = 1
supermovetime = 99
trans = sub

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 10 
trigger2 = animelem = 15 
trigger3 = animelem = 20 
trigger4 = animelem = 23
time = 8
ampl = -4

[State 0, VelAdd]
type = VelAdd
trigger1 = animelem = 10 
trigger2 = animelem = 15 
trigger3 = animelem = 20 
trigger4 = animelem = 23
x = 5
y = 0

[State 0, PalFX]
type = PalFX
trigger1 = time = 20
trigger2 = time = 106
time = 10
add = 255,255,255
sinadd = 255,255,255,12

[State 2000, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[StateDef 1500]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1500
poweradd = -1500
sprpriority = 2

[State 0, Explod]
type = Explod
trigger1 = time = 40
anim = 6760
ID = 6760
facing = -1
pos = 35,-45
postype = p1  ;p2,front,back,left,right
scale = .15,.2
removetime = 50
sprpriority = 10
supermove = 1
supermovetime = 999

[State 0, BGPalFX]
type = BGPalFX
trigger1 = time = 120
time = 30
add = -40,-40,-40
sinadd = 40,40,40,100

[State 0, BGPalFX]
type = BGPalFX
trigger1 = time = 20
time = 100
add = -40,-40,-40

[State 0, BGPalFX]
type = BGPalFX
trigger1 = time = 0
time = 20
add = 0,0,0
sinadd = -40,-40,-40,100

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal ;player
name = "SupFX"
ID = 8000
stateno = 8000
pos = 0,-30
postype = p1    ;p2,front,back,left,right
supermove = 99
supermovetime = 999
size.xscale = .25
size.yscale = .25
ownpal = 1
supermove = 999
supermovetime = 999
pausemove = 1
pausemovetime = 99

[State 3000, Super A]
type = SuperPause
trigger1 = AnimElem = 1
pos = 5, -36
time = 100
move = 100
movetime = 100
anim = -1;S8000
darken = 0
sound = -1
unhittable = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 50
value = S200,28
channel = 4
loop = 1
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 52
value = S200,28
channel = 5
loop = 1
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 54
value = S200,28
channel = 6
loop = 1


[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 45
value = S200,27

[State 0, Helper]
type = Helper
;trigger1 = time = 45
trigger1 = timemod =1,0  && time = [45,95]
helpertype = player
name = "Fly Head"
ID = 1501+(random%6)
stateno = 1501+(random%6)
pos = 5,-42-(random%6)
postype = p1    ;p2,front,back,left,right
facing = 1
ownpal = 1
size.xscale = .35
size.yscale = .35
supermove = 1
supermovetime = 999

[State 2000, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[StateDef 1501]
type = S
movetype= I
physics = S
juggle  = 1
ctrl = 0
anim = 1501
sprpriority = 5

[State 0, Turn]
type = Turn
triggerall = time > 15
trigger1 = p2bodydist x < 5



[State 0, VelAdd]
type = Velset
trigger1 = time = 10
y = 0

[State 0, VelAdd]
type = Veladd
trigger1 = time = 0
x = 5+(random%25)
y = 4-(random%8)

[State 1000, hitoverride]
type=hitoverride
trigger1=1
attr= SCA,AA,AP,AT,NA,SA,HA,NP,SP,HP,NT,ST,HT
time=10
stateno=1510
ignorehitpause=1

[State 2000, end]
type = ChangeState
trigger1 = Time = 300
value = 1510
ctrl = 1
;---------------------------------------------------------------------------
[StateDef 1502]
type = S
movetype= I
physics = S
juggle  = 1
ctrl = 0
anim = 1502
sprpriority = 5

[State 0, Turn]
type = Turn
triggerall = time > 15
trigger1 = p2bodydist x < 5


[State 0, VelAdd]
type = Velset
trigger1 = time = 10
y = 0

[State 0, VelAdd]
type = Veladd
trigger1 = time = 0
x = 5+(random%25)
y = 4-(random%8)

[State 1000, hitoverride]
type=hitoverride
trigger1=1
attr= SCA,AA,AP,AT,NA,SA,HA,NP,SP,HP,NT,ST,HT
time=10
stateno=1510
ignorehitpause=1

[State 2000, end]
type = ChangeState
trigger1 = Time = 300
value = 1510
ctrl = 1
;---------------------------------------------------------------------------
[StateDef 1503]
type = S
movetype= I
physics = S
juggle  = 1
ctrl = 0
anim = 1503
sprpriority = 5

[State 0, Turn]
type = Turn
triggerall = time > 15
trigger1 = p2bodydist x < 5



[State 0, VelAdd]
type = Velset
trigger1 = time = 10
y = 0

[State 0, VelAdd]
type = Veladd
trigger1 = time = 0
x = 5+(random%25)
y = 4-(random%8)

[State 1000, hitoverride]
type=hitoverride
trigger1=1
attr= SCA,AA,AP,AT,NA,SA,HA,NP,SP,HP,NT,ST,HT
time=10
stateno=1510
ignorehitpause=1

[State 2000, end]
type = ChangeState
trigger1 = Time = 300
value = 1510
ctrl = 1
;---------------------------------------------------------------------------
[StateDef 1504]
type = S
movetype= I
physics = S
juggle  = 1
ctrl = 0
anim = 1504
sprpriority = 5

[State 0, Turn]
type = Turn
triggerall = time > 15
trigger1 = p2bodydist x < 5



[State 0, VelAdd]
type = Velset
trigger1 = time = 10
y = 0

[State 0, VelAdd]
type = Veladd
trigger1 = time = 0
x = 5+(random%25)
y = 4-(random%8)

[State 1000, hitoverride]
type=hitoverride
trigger1=1
attr= SCA,AA,AP,AT,NA,SA,HA,NP,SP,HP,NT,ST,HT
time=10
stateno=1510
ignorehitpause=1

[State 2000, end]
type = ChangeState
trigger1 = Time = 300
value = 1510
ctrl = 1
;---------------------------------------------------------------------------
[StateDef 1505]
type = S
movetype= I
physics = S
juggle  = 1
ctrl = 0
anim = 1505
sprpriority = 5

[State 0, Turn]
type = Turn
triggerall = time > 15
trigger1 = p2bodydist x < 5



[State 0, VelAdd]
type = Velset
trigger1 = time = 10
y = 0

[State 0, VelAdd]
type = Veladd
trigger1 = time = 0
x = 5+(random%25)
y = 4-(random%8)

[State 1000, hitoverride]
type=hitoverride
trigger1=1
attr= SCA,AA,AP,AT,NA,SA,HA,NP,SP,HP,NT,ST,HT
time=10
stateno=1510
ignorehitpause=1

[State 2000, end]
type = ChangeState
trigger1 = Time = 300
value = 1510
ctrl = 1
;---------------------------------------------------------------------------
[StateDef 1506]
type = S
movetype= I
physics = S
juggle  = 1
ctrl = 0
anim = 1506
sprpriority = 5

[State 0, Turn]
type = Turn
triggerall = time > 15
trigger1 = p2bodydist x < 5



[State 0, VelAdd]
type = Velset
trigger1 = time = 10
y = 0

[State 0, VelAdd]
type = Veladd
trigger1 = time = 0
x = 5+(random%25)
y = 4-(random%8)

[State 1000, hitoverride]
type=hitoverride
trigger1=1
attr= SCA,AA,AP,AT,NA,SA,HA,NP,SP,HP,NT,ST,HT
time=10
stateno=1510
ignorehitpause=1

[State 2000, end]
type = ChangeState
trigger1 = Time = 300
value = 1510
ctrl = 1
;---------------------------------------------------------------------------
[StateDef 1510]
type = S
movetype= I
physics = S
juggle  = 1
ctrl = 0
anim = 9999
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S52,0
volumescale = 999

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 6600
ID = 6600
pos = 0,0
postype = p1  ;p2,front,back,left,right
scale = .1,.1
sprpriority = 10

[State 0, DestroySelf]
type = DestroySelf
trigger1 = Time = 10

;---------------------------------------------------------------------------
[StateDef 4500]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 4500
poweradd = -3000
sprpriority = 2

[State 0, BGPalFX]
type = BGPalFX
trigger1 = animtime = 0
time = 35
add = -50,-50,-50
sinadd = 50,50,50,150

[State 3000, Super A]
type = SuperPause
trigger1 = AnimElem = 1
pos = 5, -36
anim = -1;S8000
darken = 0
sound = S800, 1
unhittable = 0
time = 60
move = 60
movetime = 60

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal ;player
name = "Hyper"
ID = 8100
stateno = 8100
pos = 0,0
supermove = 999
supermovetime = 999
postype = back    ;p2,front,back,

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 11
value = S200,7

[State 0, Explod]
type = Explod
trigger1 = movehit = 1
anim = 8901
ID = 8901
pos = 0,0
postype = p1  ;p2,front,back,left,right
scale = 10,10
sprpriority = 9999
ontop = 1

[State 0, 1]
type = HitDef
trigger1 = time =0
attr = A, NA
damage = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 0
sparkno = -1;S6055
sparkxy = -10, -30
hitsound = S200,5
guard.sparkno = S7100
guardsound = S200,41
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -4
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -2,0
air.hittime = 12
Envshake.time = 5

[State 0, PosAdd]
type = PosAdd
trigger1 = animelem = 10
x = 10
y = 0

[State 0, Helper]
type = Helper
trigger1 = animelem = 11
helpertype = normal ;player
name = "AfterFX1"
ID = 201
stateno = 201
ownpal = 1
vfacing = -1
pos = 20,-36
ignorehitpause = 99
postype = p1    ;p2,front,back,left,right
size.xscale = .05
size.yscale = .05

[State 0, TargetState]
type = TargetState
trigger1 = movehit = 1
value = 4533

[State 4500, end]
type = ChangeState
trigger1 = movehit = 1
value = 4501
ctrl = 1

[State 4500, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
[StateDef 4501]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 4501
poweradd = 0
sprpriority = 99992

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 89
value = S500,9
volumescale = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 54
value = S500,8
volumescale = 999


[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 16
value = S500,24
volumescale = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 16
value = S500,24
volumescale = 999


[State 0, PlaySnd]
type = PlaySnd ;weapon 
trigger1 = animelem = 17
value = S200,16

[State 0, PlaySnd]
type = PlaySnd ;voando
trigger1 = time = 480
value = S200,24

[State 0, PlaySnd]
type = PlaySnd ;Hit
trigger1 = animelem = 59
trigger2 = animelem = 89
value = S200,22

[State 0, PlaySnd]
type = PlaySnd ;p2fall
trigger1 = time = 248
value = S200,23
volumescale = 999

[State 0, PlaySnd]
type = PlaySnd ;dash
trigger1 = animelem = 23
trigger2 = time = 320
value = S41,0
volumescale = 999

[State 0, PlaySnd]
type = PlaySnd ;Run
trigger1 = timemod =9,0  && time = [144,243]
trigger2 = timemod =9,0  && time = [316,380]
value = S20,0

[State 0, Lines]
type = Explod
trigger1 = facing = 1
trigger1 = animelem = 23
anim = 8800
ID = 8800
pos = 130,Floor((1.33*GameHeight/GameWidth)*120)
postype = left
removetime = 127
facing = -1
scale = .7,.7
sprpriority = 99999
ownpal = 1
ignorehitpause = 1
[State 0, Lines]
type = Explod
trigger1 = facing = 1
trigger1 = animelem = 59
anim = 8801
ID = 8801
pos = 130,Floor((1.33*GameHeight/GameWidth)*120)
postype = left
removetime = 182
facing = -1
scale = .7,.7
sprpriority = 99999
ownpal = 1
ignorehitpause = 1

[State 0, Lines]
type = Explod
trigger1 = facing != 1
trigger1 = animelem = 23
anim = 8800
ID = 8800
pos = 130,Floor((1.33*GameHeight/GameWidth)*120)
postype = left
removetime = 127
facing = 1
scale = .7,.7
sprpriority = 99999
ownpal = 1
ignorehitpause = 1
[State 0, Lines]
type = Explod
trigger1 = facing != 1
trigger1 = animelem = 59
anim = 8801
ID = 8801
pos = 130,Floor((1.33*GameHeight/GameWidth)*120)
postype = left
removetime = 182
facing = 1
scale = .7,.7
sprpriority = 99999
ownpal = 1
ignorehitpause = 1

[State 0, Explod]
type = Explod
trigger1 = animelem = 89
anim = 6100
ID =6100
pos = 10,5
ownpal = 0
postype = p2  ;p2,front,back,left,right
scale = .2,.1
sprpriority = 99991
ownpal = 1
bindtime=0

[State 0, Explod]
type = Explod ;ground broken
trigger1 = animelem = 89
anim = 7701
ID =7701
pos = 10,0
ownpal = 0
removetime = 75
postype = p2  ;p2,front,back,left,right
scale = .2,.1
sprpriority = 99991
ownpal = 1
bindtime=0

[State 0, Explod]
type = Explod ;hit fx
trigger1 = animelem = 89
anim = 6770
ID = 6770
angle = 45
vel = 0,0
pos = 40,-65
postype = p1  ;p2,front,back,left,right
scale = .45,.75
sprpriority = 99996

[State 0, Explod]
type = Explod ;hit fx
trigger1 = animelem = 59
anim = 6770
ID = 6770
vel = -10,0
pos = 60,-45
postype = p1  ;p2,front,back,left,right
scale = .45,.75
sprpriority = 99996


[State 0, Explod]
type = Explod
trigger1 = animelem = 18
anim = 6151
ID = 6151
angle = -90
vel = 0,0
pos = 0,-25
postype = p1  ;p2,front,back,left,right
scale = .25,.25
sprpriority = 99993

[State 0, AngleAdd]
type = Angledraw
trigger1 = time > 480 
value = 60

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 480 
time = 12
phase = 10

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 240 
trigger2 = time = 432 
time = 8
ampl = -15
[State 0, PosSet]
type = PosSet
trigger1 = time = 504
x = 0
y = 0

[State 0, Explod]
type = Explod
trigger1 = time = 480
anim = 7800
ID = 7800
pos = 25,-80
angle = 150 
postype = p1  ;p2,front,back,left,right
scale = .35,.35
sprpriority = 99992

[State 0, SprPriority]
type = SprPriority
trigger1 = 1
value = 99992

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 8902
ID = 8902
pos = 0,0
removetime = 600
postype = p1  ;p2,front,back,left,right
scale = 10,10
sprpriority = 99990
ontop = 0

[State 0, VelSet]
type = VelSet
trigger1 = time = [480,500]
x = 10
y = -15

[State 0, Turn]
type = Turn
trigger1 = time = 385

[State 0, VelSet]
type = VelSet
trigger1 = time = [385,435]
x = 7
y = 0

[State 0, VelSet]
type = VelSet
trigger1 = time = [316,385]
x = 10
y = 0

[State 0, VelSet]
type = VelSet
trigger1 = time = 281
trigger2 = time = 436
trigger3 = time = 501
x = 0
y = 0

[State 0, Explod]
type = Explod ;p2wind
trigger1 = timemod =9,0  && time = [250,400]
anim = 6780
ID = 6780
vel = 10,0
pos = 10,-25+(random%10)
postype = p2  ;p2,front,back,left,right
scale = .15,.1
sprpriority = 99994
[State 0, Explod]
type = Explod ;p2wind
trigger1 = timemod =4,0  && time = [430,450]
anim = 6780
ID = 6780
vel = 0,0
angle = -45
pos = 10,-15+(random%10)
postype = p2  ;p2,front,back,left,right
scale = .15,.1
sprpriority = 99994

[State 0, Explod]
type = Explod ;runsmoke
trigger1 = timemod =9,0  && time = [144,200]
anim = 6000
ID = 6000
vel = -15,0
pos = 10,-2
postype = p1  ;p2,front,back,left,right
scale = .2,.2
sprpriority = 99993

[State 0, Explod]
type = Explod
trigger1 = animelem = 23
anim = 6760
ID = 6760
pos = -20,-25
removetime = 110
postype = p1  ;p2,front,back,left,right
scale = .5,.3
sprpriority = 99994
ownpal = 1
remappal = 3,1
bindtime = 99
[State 0, Explod]
type = Explod
trigger1 = animelem = 64
anim = 6760
ID = 6760
pos = -20,-25
removetime = 65
postype = p1  ;p2,front,back,left,right
scale = .5,.3
sprpriority = 99994
ownpal = 1
remappal = 3,1
bindtime = 99

[State 0, Explod]
type = Explod
trigger1 = timemod =9,0  && time = [206,243]
trigger2 = timemod =9,0  && time = [316,380]
anim = 6000
ID = 6000
vel = -10,0
pos = 10,-2
postype = p1  ;p2,front,back,left,right
scale = .2,.2
sprpriority = 99993

[State 0, VelSet]
type = VelSet
trigger1 = time = [250,280]
x = -10
y = 0

[State 0, VelSet]
type = VelSet
trigger1 = time = [156,206]
x = -7
y = 0

[State 0, VelSet]
type = VelSet
trigger1 = time = [136,156]
x = 16
y = 0

[State 0, ScreenBound]
type = ScreenBound
trigger1 = time = [430,480]
value = 1
movecamera = 0,0
[State 0, ScreenBound]
type = ScreenBound
trigger1 = time < 430
trigger2 = time = [480,505]
value = 0
movecamera = 0,0

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 23
time = 10
;freq = 60
ampl = -4

[State 0, Explod]
type = Explod
trigger1 = animelem = 23
anim = 6052
ID = 6052
pos = 20,-11
ownpal = 1
vel = -10,0
postype = p1  ;p2,front,back,left,right
scale = .5,.45
sprpriority = 99992
[State 0, Explod]
type = Explod
trigger1 = animelem = 23
anim = 6051
ID = 6051
pos = -10,-11
vel = -10,0
ownpal = 1
postype = p1  ;p2,front,back,left,right
scale = .5,.5
sprpriority = 99992

[State 100]
type = PlaySnd
trigger1 = animelem = 23
value = S41,0

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 18
time = 10
ampl = -4

[State 0, Explod]
type = Explod
trigger1 = animelem = 18
anim = 6000
ID = 6000
pos = 0,-5
postype = p1  ;p2,front,back,left,right
scale = .6,.6
sprpriority = 99993

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 9
value = S200,6

[State 0, Helper]
type = Helper
trigger1 = animelem = 9
helpertype = normal ;player
name = "Sword"
ID = 4505
stateno = 4505
pos = -20,-30
postype = p1    ;p2,front,back,left,right
facing = 1
size.xscale = 1
size.yscale = 1 
supermove = 999
supermovetime = 999

[State 0, PosSet]
type = PosSet
trigger1 = time = 2
x = 0
y = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nobardisplay
flag2 = noBG
flag3 = noFG

[State 4500, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 4502
ctrl = 1

;---------------------------------------------------------------------------
[StateDef 4502]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 4502
poweradd = 0
sprpriority = 99992

[State 0, PlaySnd]
type = PlaySnd ;voz
trigger1 = animelem = 5
value = S500,10

[State 0, PlaySnd]
type = PlaySnd ;p2fall
trigger1 = animelem = 7
value = S200,27

[State 0, PlaySnd]
type = PlaySnd ;p2hitground
trigger1 = time = 185
value = S200,26

[State 0, PlaySnd]
type = PlaySnd ;Hit
trigger1 = animelem = 6
value = S200,22

[State 0, PlaySnd]
type = PlaySnd ;end
trigger1 = time = 55
value = S300,2

[State 0, PlaySnd]
type = PlaySnd ;voando
trigger1 = time = 13
trigger2 = time = 23
trigger3 = time = 33
trigger4 = time = 43
trigger5 = time = 80
value = S200,24

[State 0, PlaySnd]
type = PlaySnd ;aparece
trigger1 = time = 90
value = S200,25

[State 0, Lines]
type = Explod
trigger1 = animelem = 6
anim = 8801
ID = 8801
angle = -90
pos = 0,0
postype = p1
removetime = 60
facing = -1
scale = .7,1
sprpriority = 99997
ownpal = 1
ignorehitpause = 1

[State 0, Lines]
type = Explod
trigger1 = time = 80
anim = 8800
ID = 8800
angle = 90
pos = 0,0
postype = p1
removetime = 40
facing = -1
scale = .7,1
sprpriority = 99997
ownpal = 1
ignorehitpause = 1

[State 0, Explod]
type = Explod ;p2wind
trigger1 = timemod =7,0  && time = [130,200]
anim = 6780
ID = 6780
vel = 0,-10
angle = -90
pos = -5+(random%10),-10
postype = p2  ;p2,front,back,left,right
scale = .15,.1
sprpriority = 99994

[State 0, Explod]
type = Explod ;hit fx
trigger1 = animelem = 6
anim = 6770
ID = 6770
angle = 90
vel = 0,-3
pos = 0,-0
postype = p1  ;p2,front,back,left,right
scale = .45,.75
sprpriority = 99996

[State 0, Finish explod]
type = Explod
trigger1 = time = 185
anim = 6750
ID = 6750
pos = 160,Floor((1.33*GameHeight/GameWidth)*121)
postype = back
facing = 1
vfacing = 1
bindtime = 1
scale = .7,.7
sprpriority = 99999
ontop = 1
ownpal = 0
removeongethit = 1
;trans = add
supermovetime = 999

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 123 
time = 8
ampl = -15

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nobardisplay
flag2 = noBG
flag3 = noFG

[State 0, Explod]
type = Explod
trigger1 = time = 43
anim = 7860
ID = 7860
pos = 0,-40
postype = p1  ;p2,front,back,left,right
scale = .05,.03
sprpriority = 99992

[State 0, Explod]
type = Explod
trigger1 = time = 33
anim = 7860
ID = 7860
pos = -110,-80
postype = p1  ;p2,front,back,left,right
scale = .03,.05
sprpriority = 99992

[State 0, Explod]
type = Explod
trigger1 = time = 23
anim = 7860
ID = 7860
pos = -35,-135
postype = p1  ;p2,front,back,left,right
scale = .05,.04
sprpriority = 99992
[State 0, Explod]
type = Explod
trigger1 = time = 13
anim = 7860
ID = 7860
pos = 130,-105
postype = p1  ;p2,front,back,left,right
scale = .03,.05
sprpriority = 99992

[State 0, Explod]
type = Explod
trigger1 = time = 10
anim = 7800
ID = 7800
pos = 0,-30
angle = 120 
postype = p1  ;p2,front,back,left,right
scale = .2,.45
sprpriority = 99992


[State 0, Explod]
type = Explod
trigger1 = time = 20
anim = 7800
ID = 7800
pos = 50,-120
angle = -100 
postype = p1  ;p2,front,back,left,right
scale = .2,.25
sprpriority = 99992

[State 0, Explod]
type = Explod
trigger1 = time = 30
anim = 7800
ID = 7800
pos = -70,-110
angle = -55 
postype = p1  ;p2,front,back,left,right
scale = .2,.15
sprpriority = 99992

[State 0, Explod]
type = Explod
trigger1 = time = 40
anim = 7800
ID = 7800
pos = -55,-60
angle = 70 
postype = p1  ;p2,front,back,left,right
scale = .2,.18
sprpriority = 99992

[State 0, Explod]
type = Explod
trigger1 = time = 50
anim = 7800
ID = 7800
pos = -0,-65
angle = -180 
postype = p1  ;p2,front,back,left,right
scale = .2,.07
sprpriority = 99992

[State 0, Explod]
type = Explod
trigger1 = time = 55
anim = 7850
ID = 7850
pos = -0,-80
angle = -180 
postype = p1  ;p2,front,back,left,right
scale = .65,.65
sprpriority = 99993

[State 0, Explod]
type = Explod
trigger1 = time = 80
anim = 7800
ID = 7800
pos = -0,-0
angle = -180 
postype = p1  ;p2,front,back,left,right
scale = .2,.65
sprpriority = 99991

[State 0, VelAdd]
type = posAdd
trigger1 = time = 90 
x = 0
y = -150

[State 0, ScreenBound]
type = ScreenBound
trigger1 = time < 151
value = 0
movecamera = 0,0

[State 0, VelSet]
type = VelSet
trigger1 = time = 152
x = 0
y = 0
[State 0, VelSet]
type = VelSet
trigger1 = time = [129,151]
x = 0
y = -10
[State 0, VelSet]
type = VelSet
trigger1 = time = [100,129]
x = 0
y = 3

[State 0, PosSet]
type = PosSet
trigger1 = time = 151
x = -10
y = -20

[State 0, PosSet]
type = PosSet
trigger1 = AnimTime = 0
x = -150
y = -20
[State 4500, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;--------------------------------------
[StateDef 4505]
type = A
movetype= I
physics = A
juggle  = 1
velset = 0,0
anim = 1301
poweradd = 0
sprpriority = 99992

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1 
value = time*5

[State 0, VelAdd]
type = VelAdd
trigger1 = time = 0 
x = -5
y = 1
;--------------------------------------
[StateDef 4506]
type = S
movetype= I
physics = S
juggle  = 1
velset = 0,0
anim = 1302
poweradd = 0
sprpriority = 99993

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S200,40

[State 0, Explod]
type = Explod
trigger1 = animelem = 1
anim = 7702
ID = 7702
pos = 0,-10
postype = p1  ;p2,front,back,left,right
scale = .1,.1
sprpriority = 99992
supermove = 99
supermovetime = 999

[State 0, Explod]
type = Explod
trigger1 = animelem = 1
anim = 7701
ID = 7701
pos = 0,2
removetime = 5
postype = p1  ;p2,front,back,left,right
scale = .1,.05
sprpriority = 99991
supermove = 99
supermovetime = 999

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1 
value = 0

[State 0, DestroySelf]
type = DestroySelf
trigger1 = animtime=  0 
;---------------------------------------------------
[Statedef 4533]
type    = A
movetype= H
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
sprpriority = 1
Facep2 = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = time = [0,206]
trigger2 = time = [451,580]
trigger3 = time > 678
flag = invisible

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 632
value = 5060

[State 0, VelSet]
type = VelSet
trigger1 = time = [660,680]
x = 0
y = 5

[State 0, VelSet]
type = VelSet
trigger1 = time = [632,660]
x = 0
y = .5
[State 0, VelSet]
type = VelSet
trigger1 = time = [580,632]
x = 0
y = -1

[State 0, PosSet]
type = PosSet
trigger1 = time = 0
trigger2 = time = 451
trigger3 = time = 680
x = 0
y = 0



[State 0, VelSet]
type = VelSet
trigger1 = time = [430,450]
x = -6
y = -10

[State 0, Turn]
type = Turn
trigger1 = time = 430

[State 0, ScreenBound]
type = ScreenBound
trigger1 = time < 206
trigger1 = time = [247,400]
value = 1
movecamera = 0,0

[State 0, ScreenBound]
type = ScreenBound
trigger1 = time = [206,247]
trigger2 = time = [430,450]
value = 0
movecamera = 0,0

[State 0, VelSet]
type = VelSet
trigger1 = time = 247
trigger2 = time = 451
trigger3 = time = 680
x = 0
y = 0

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 246
value = 5050
elem = 1

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 248 
time = 180
freq = 10

[State 0, VelSet]
type = VelSet
trigger1 = time = [216,246]
x = 7
y = 0

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 206
x = -200
y = 0

[State 0, SprPriority]
type = SprPriority
trigger1 = 1
value = 99992

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
value = 5000
elem = 1

[State 0, LifeAdd]
type = LifeAdd
trigger1 = time = 719
value = -400
kill = 1

[State 200, End]
type = selfState
trigger1 = time = 720
value = 5050
ctrl = 1

;---------------------------------------------------
[Statedef 4368]
type    = A
movetype= H
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
sprpriority = 1
Facep2 = 1

[State 0, VelAdd]
type = VelAdd
trigger1 = time = 22
x = 3
y = 8

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time =[0,10]
value = -0
[State 0, AngleDraw]
type = AngleDraw
trigger1 = time =[10,14]
value = -30
[State 0, AngleDraw]
type = AngleDraw
trigger1 = time =[14,17]
value = -60
[State 0, AngleDraw]
type = AngleDraw
trigger1 = time =[17,19]
value = -90
[State 0, AngleDraw]
type = AngleDraw
trigger1 = time >=19
value = -110

[State 0, SprPriority]
type = SprPriority
trigger1 = 1
value = 7

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
value = 5000
elem = 1

[State 200, End]
type = ChangeState
triggerall = time > 10
trigger1 = pos y >= -10
value = 4369
;---------------------------------------------------
[Statedef 4369]
type    = A
movetype= H
physics = A
juggle  = 1
velset = 0,0
ctrl = 0
sprpriority = 1
Facep2 = -1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time =0
value = 0
[State 0, LifeAdd]
type = LifeAdd
trigger1 = time = 0
value = -50
kill = 1

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 0
x = -10
y = 10

[State 0, VelAdd]
type = VelAdd
trigger1 = time = 0
x = -3
y = -7

[State 0, SprPriority]
type = SprPriority
trigger1 = 1
value = 7

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
value = 5050
elem = 1

[State 200, End]
type = Selfstate
trigger1 = time = 30
value = 5050
ctrl = 0
;---------------------------------------------------
[Statedef 4262]
type    = A
movetype= H
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
sprpriority = 1
Facep2 = 1

[State 0, VelAdd]
type = VelAdd
trigger1 = time = 0
x = -6
y = 8

[State 0, SprPriority]
type = SprPriority
trigger1 = 1
value = 7

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
value = 5050
elem = 1

[State 200, End]
type = ChangeState
trigger1 = pos y >= -10
value = 4263
;---------------------------------------------------
;---------------------------------------------------
[Statedef 4263]
type    = S
movetype= H
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
sprpriority = 1
Facep2 = 1

[State 0, LifeAdd]
type = LifeAdd
trigger1 = time = 0
value = -40
kill = 1

[State 0, PosAdd]
type = Posset
trigger1 = time = 0
y = 0

[State 0, VelAdd]
type = Velset
trigger1 = time = 0
x = 0
y = 0

[State 0, SprPriority]
type = SprPriority
trigger1 = 1
value = 7

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
value = 5100
elem = 1

[State 200, End]
type = ChangeState
trigger1 = time = 5
value = 4264
;---------------------------------------------------
[Statedef 4264]
type    = S
movetype= H
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
sprpriority = 1
Facep2 = 1

[State 0, PosAdd]
type = Posset
trigger1 = time = 0
y = 0

[State 0, VelAdd]
type = Velset
trigger1 = time = 0
x = 0
y = 0

[State 0, SprPriority]
type = SprPriority
trigger1 = 1
value = 7

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
value = 5110
elem = 1

[State 200, End]
type = Selfstate
trigger1 = time = 50
value = 5110
ctrl = 0
;----------------------------------------
;supfx
[Statedef 8000]
type    = A
movetype= I
physics = N
anim = 9999
sprpriority = 99

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S800,0
volumescale = 999

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 8000
ID = 8000
pos = 0,-0
postype = p1  ;p2,front,back,left,right
scale = .25,.25
ownpal = 1
remappal = 3 , 1
sprpriority = 10
supermove = 1
supermovetime = 99
[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 8000
ID = 8000
pos = 0,-0
postype = p1  ;p2,front,back,left,right
scale = .25,.25
ownpal = 1
remappal = 3 , 0
sprpriority = 10
supermove = 1
supermovetime = 99
trans = sub

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 8001
ID = 8001
pos = 0,-50
postype = p1  ;p2,front,back,left,right
scale = .2,.25
ownpal = 1
remappal = 3 , 1
sprpriority = 10
supermove = 1
supermovetime = 99
[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 8001
ID = 8001
pos = 0,-50
postype = p1  ;p2,front,back,left,right
scale = .2,.25
ownpal = 1
remappal = 3 , 0
sprpriority = 10
supermove = 1
supermovetime = 99
trans = sub

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 10
freq = 30

;[State 0, PalFXWiz]
;type = PalFX
;trigger1 = time =0
;time = 999
;add = 0,-200,0
;mul = 256,256,256
;sinadd = 0,8,0,10
;invertall = 0
;color = 0
;
;[State 0, PalFXWiz]
;type = PalFX
;trigger1 = numhelper (1507) = 1 && root,life <= 500
;trigger1 = 1
;time = 999
;add = 0,-50,-150
;mul = 186,6,6
;sinadd = 0,0,0,1
;invertall = 0
;color = 256
;
;[State 0, PalFXWiz]
;type = PalFX
;trigger1 = root,stateno = 1500 && root,life <= 500
;trigger1 = 1
;time = 999
;add = 0,-50,-150
;mul = 186,6,6
;sinadd = 0,0,0,1
;invertall = 0
;color = 256

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow

[State 200, End]
type = Destroyself
trigger1 = time = 30

;----------------------------------------
;chfx
[Statedef 8001]
type    = A
movetype= I
physics = N
anim = 6500
sprpriority = 99

[State 0, PalFXWiz]
type = PalFX
trigger1 = time =0
time = 999
add = 10,0,-200
mul = 512,512,356
sinadd = 40,30,0,0
invertall = 0
color = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 6200
ID = 6200
pos = -4,27
postype = p1  ;p2,front,back,left,right
scale = .35,.3
sprpriority = 0

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow

[State 200, End]
type = Destroyself
trigger1 = AnimTime = 0
;----------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
[Statedef 8100]
type    = S
movetype= I
physics = S
velset = 0,0
ctrl = 0
anim = 9999
sprpriority = -1

[State 0, Dark Screen - Speed Line]
type = Explod
trigger1 = time = 0
anim = 16000
ID = 16000
pos = 160,Floor((1.33*GameHeight/GameWidth)*121)
postype = back
facing = -1
vfacing = 1
bindtime = 1
removetime = 65
scale = .7,.5
sprpriority = -1
ontop = 1
remappal =3,1
ownpal = 1 
removeongethit = 1
trans = add
supermovetime = 999

[State 0, Portrait FX]
type = Explod
trigger1 = time = 12
anim = 17000
ID = 8100
pos = 130,Floor((1.33*GameHeight/GameWidth)*120)
postype = left
pausemovetime = -1
supermovetime = -1
removetime = 67
bindtime = -1
scale = .35,.35
vel = .3,0
sprpriority = -16
ownpal = 0
ignorehitpause = 1

[State 0, Blue Lights FX]
type = Explod
trigger1 = time = 2
anim = 16020
ID = 8100
pos = 20,Floor((1.33*GameHeight/GameWidth)*120)
postype = left
ownpal = 1
pausemovetime = -1
supermovetime = -1
;removetime = 78
bindtime = -1
scale = 1,.35
sprpriority = -12
ownpal = 1
ignorehitpause = 1

[State 0, Sparking Bars FX]
type = Explod
triggerall = !numexplod(3080)
trigger1 = !time
anim = 16040
remappal = 3,1
ownpal = 1
ID = 8100
pos = 140,Floor((1.33*GameHeight/GameWidth)*114)
postype = left
pausemovetime = -1
supermovetime = -1
removetime = 80
bindtime = -1
scale = .7,.37
sprpriority = -20
ownpal = 1
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nobardisplay
flag2 = noBG
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow

[State 200, End]
type = Destroyself
trigger1 = time = 80

;-------------------------------------------------------------------------------
[Statedef 8101]
type    = S
movetype= I
physics = S
velset = 0,0
ctrl = 0
anim = 9999
sprpriority = -1

[State 0, PalFXWiz]
type = PalFX
trigger1 = 1
time = 999999999999
add = 6,0,0
mul = 0,356,0

[State 0, Dark Screen - Speed Line]
type = Explod
trigger1 = time = 0
anim = 16000
ID = 16000
pos = 160,Floor((1.33*GameHeight/GameWidth)*121)
postype = back
facing = 1
vfacing = 1
bindtime = 1
removetime = -1
scale = .7,.5
sprpriority = 9989
ontop = 1
ownpal = 0
removeongethit = 1
trans = add
supermovetime = 999

[State 0, Dark Screen - Speed Line]
type = Explod
trigger1 = time = 141
anim = 16000
ID = 16000
pos = 160,Floor((1.33*GameHeight/GameWidth)*121)
postype = back
facing = -1
vfacing = 1
bindtime = 1
removetime = -1
scale = .7,.5
sprpriority = 9989
ontop = 1
ownpal = 0
removeongethit = 1
trans = add
supermovetime = 999

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 140
trigger2 = time = 370
id = 16000
ignorehitpause = 1

[State 200, End]
type = Destroyself
trigger1 = time = 370
;-------------------------------------------------------------------------------
[Statedef 8102]
type    = S
movetype= I
physics = S
velset = 0,0
ctrl = 0
anim = 9999
sprpriority = -1

[State 0, PalFXWiz]
type = PalFX
trigger1 = 1
time = 999999999999
add = 6,0,0
mul = 256,-256,256

[State 0, Dark Screen - Speed Line]
type = Explod
trigger1 = time = 0
anim = 16000
ID = 16000
pos = 160,Floor((1.33*GameHeight/GameWidth)*121)
postype = back
facing = -1
vfacing = 1
bindtime = 1
removetime = -1
scale = .7,.5
sprpriority = -1
ontop = 1
ownpal = 0
removeongethit = 1
trans = add
supermovetime = 999

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 190
id = 16000
ignorehitpause = 1

[State 200, End]
type = Destroyself
trigger1 = time = 190

;---------------------Car Efect----------------------------------------------------------
[Statedef 8103]
type    = S
movetype= I
physics = S
velset = 0,0
ctrl = 0
anim = 9999
sprpriority = -1


[State 0, Dark Screen - Speed Line]
type = Explod
trigger1 = time = 0
anim = 7900
ID = 7900
pos = 160,Floor((1.33*GameHeight/GameWidth)*121)
postype = back
facing = -1
vfacing = 1
bindtime = 1
removetime = -1
scale = .7,.5
sprpriority = -1
ontop = 1
ownpal = 0
removeongethit = 1
trans = add
supermovetime = 999

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = numhelper(2510) = 0
id = 7900
ignorehitpause = 1

[State 200, End]
type = Destroyself
trigger1 = time = 190

;---------------------------------------------------------------------------

[Statedef -3]

[State 0, StopSnd]
type = StopSnd
trigger1 = numhelper (1501) = 0
channel = 4

[State 0, StopSnd]
type = StopSnd
trigger1 = numhelper (1502) = 0
channel = 5

[State 0, StopSnd]
type = StopSnd
trigger1 = numhelper (1503) = 0
channel = 6
[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = stateno != 400
id = 6300

[State 0, Explod]
type = Explod
triggerall = numexplod (7600) = 0
trigger1 = p2stateno = 1005
anim = 7600
ID = 7600
pos = -5+(random%10),-30+(random%10)
postype = p2  ;p2,front,back,left,right
scale = .5,.5
sprpriority = 99

;This controller plays a sound everytime the player lands from a jump, or
;from a back-dash.
[State -3, Landing Sound]
type = PlaySnd
triggerall = Time = 1
trigger1 = stateno = 52 ;Jump land
trigger2 = stateno = 106 ;Run-back land
value = 52, 0

;-------------------------------------------------
[State -3]
type = ChangeState     ;super 1500
triggerall = ctrl
triggerall = StateType = S
triggerall = roundstate = 2
Trigger1 = AIlevel > 3
trigger1 = P2bodydist X = [50,150] ;&& roundstate = 2;50
triggerall = ctrl = 1
triggerall = random = [200,225]
triggerall = power >1500
value = 1500

[State -3]
type = ChangeState     ;;dodge
triggerall = ctrl
triggerall = StateType = S
triggerall = p2movetype = A
triggerall = p2statetype = S
triggerall = roundstate = 2
Trigger1 = AIlevel = 8
trigger1 = P2bodydist X <= 70 ;&& roundstate = 2;50
triggerall = ctrl = 1
triggerall = random <200
value = 450

[State 0, Power Charge]
type = ChangeState
triggerall = statetype != A
triggerall = power < 3000
triggerall = ailevel > 0 && roundstate = 2
triggerall = ctrl
triggerall = p2bodydist x > 100
trigger1 = random < (ailevel * 100)/4
value = 400

[State 0, Power Charge End]
type = ChangeState
triggerall = time >= 12
triggerall = stateno = 400
triggerall = ailevel> 0
trigger1 = (p2bodydist x < 50) || (enemy,numproj > 0)
trigger2 = power = 3000
value = 401

[State -3]
type = ChangeState     ;teleport
triggerall = ctrl
triggerall = StateType = S
triggerall = roundstate = 2
Trigger1 = AIlevel > 5
trigger1 = P2bodydist X >= 140 ;&& roundstate = 2;50
triggerall = ctrl = 1
triggerall = random <100
triggerall = power > 500
value = 500

[State -3]
type = ChangeState     ;run
triggerall = ctrl
triggerall = StateType = S
triggerall = roundstate = 2
Trigger1 = AIlevel > 3
trigger1 = P2bodydist X >= 80 ;&& roundstate = 2;50
triggerall = ctrl = 1
triggerall = random < 100
value = 107

[State 0, A]
type = ChangeState
triggerall = StateType = S
triggerall = p2statetype = L
trigger1 = ailevel > 0 && roundstate = 2
triggerall = ctrl
triggerall = p2bodydist x < 50
trigger1 = random < (ailevel * 100)
value = 350

[State 0, A]
type = ChangeState
trigger1 = statetype != A
trigger1 = ailevel > 0 && roundstate = 2
triggerall = ctrl
triggerall = p2bodydist x < 70
trigger1 = random < (ailevel * 100)
value = 200

[State 0, A Aire]
type = ChangeState
triggerall = statetype = A
triggerall = ailevel > 0 && roundstate = 2
triggerall = ctrl
triggerall = p2bodydist x < 30
trigger1 = p2bodydist y < -1
trigger1 = random < (ailevel * 100)
value = 600

[State 0, A Aire]
type = ChangeState
triggerall = statetype = A
triggerall = ailevel > 0 && roundstate = 2
triggerall = ctrl
triggerall = p2bodydist x < 30
trigger1 = p2bodydist y > -1
trigger1 = random < 50
value = 650

[State 0, A Aire]
type = ChangeState
triggerall = statetype = A
triggerall = ailevel > 0 && roundstate = 2
triggerall = ctrl
triggerall = p2bodydist x < 70
trigger1 = p2bodydist y > -1
trigger1 = random < 100
value = 640
